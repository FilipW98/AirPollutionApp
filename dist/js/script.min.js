"use strict";for(var okBtn=document.querySelector(".ok"),input=document.querySelector("input"),infoIcons=document.querySelectorAll(".info"),infoCards=document.querySelectorAll(".category-box__card-info"),pollutionIcon=document.querySelector(".air-weather__air-quality-img"),pollutionWord=document.querySelector("#air-quality"),pm10=document.querySelector("#pm10"),pm25=document.querySelector("#pm25"),co=document.querySelector("#co"),so2=document.querySelector("#so2"),weatherIcon=document.querySelector(".weather-type__img"),weatherWord=document.querySelector(".weather-type__title"),temp=document.querySelector("#temp"),feel=document.querySelector("#feel"),hum=document.querySelector("#hum"),wind=document.querySelector("#wind"),cityName=document.querySelector(".adress__name-city"),cityerror=document.querySelector(".city-error"),API_LINK="https://api.openweathermap.org/geo/1.0/direct?q=",API_KEY="&appid=b005763a5f5701376b641f6d866e7e64&units=metric",getCoordinates=function(){var t=input.value||"Wrocław";fetch(API_LINK+t+API_KEY).then(function(t){return t.json()}).then(function(t){var e="lat=".concat(t[0].lat),t="&lon=".concat(t[0].lon);getAirPollution(e,t),getWeather(e,t)}).catch(function(){cityerror.textContent="Wpisz poprawną nazwę miasta!",input.value=""})},getAirPollution=function(t,e){fetch("https://api.openweathermap.org/data/2.5/air_pollution?"+t+e+API_KEY).then(function(t){return t.json()}).then(function(t){for(var e=[pm10,pm25,co,so2],o=t.list[0].components,n=[o.pm10,o.pm2_5,o.co,o.so2],r=0;r<e.length;r++)e[r].textContent=n[r].toFixed(1)+" uq/m3";1===t.list[0].main.aqi?(pollutionWord.textContent="Dobra",pollutionWord.style.color="lime",pollutionIcon.setAttribute("src","dist/img/smile.png")):2===t.list[0].main.aqi?(pollutionWord.textContent="Średnia",pollutionWord.style.color="orange",pollutionIcon.setAttribute("src","dist/img/confused.png")):3<=t.list[0].main.aqi&&(pollutionWord.textContent="Zła",pollutionWord.style.color="red",pollutionIcon.setAttribute("src","dist/img/mask.png")),10<=t.list[0].components.pm2_5&&(pm25.parentElement.style.backgroundColor="rgba(207, 18, 49, 0.664)"),20<=t.list[0].components.pm10&&(pm10.parentElement.style.backgroundColor="rgba(207, 18, 49, 0.664)"),9e3<=t.list[0].components.co&&(co.parentElement.style.backgroundColor="rgba(207, 18, 49, 0.664)"),125<=t.list[0].components.so2&&(so2.parentElement.style.backgroundColor="rgba(207, 18, 49, 0.664)")})},getWeather=function(t,e){fetch("https://api.openweathermap.org/data/2.5/weather?"+t+e+API_KEY).then(function(t){return t.json()}).then(function(t){""===input.value?(input.setAttribute("placeholder","Musisz podać nazwę miasta"),cityName.textContent="WROCŁAW"):(cityName.textContent=input.value.toUpperCase(),input.setAttribute("placeholder","Podaj nazwę miasta"),input.value="",cityerror.textContent="");var e=(3.6*t.wind.speed).toFixed(1);temp.textContent=t.main.temp.toFixed(1)+" ℃",feel.textContent=t.main.feels_like.toFixed(1)+" ℃",hum.textContent=t.main.humidity+" %",wind.textContent=e+" km/h","11d"===t.weather[0].icon?(weatherIcon.setAttribute("src","dist/img/thunderstorm.png"),weatherWord.textContent="Burza"):"09d"===t.weather[0].icon?(weatherIcon.setAttribute("src","dist/img/drizzle.png"),weatherWord.textContent="Mżawka"):"10d"===t.weather[0].icon||"09d"===t.weather[0].icon||"09n"===t.weather[0].icon?(weatherIcon.setAttribute("src","dist/img/rain.png"),weatherWord.textContent="Deszczowo"):"13d"===t.weather[0].icon?(weatherIcon.setAttribute("src","dist/img/ice.png"),weatherWord.textContent="Śnieg"):"50d"===t.weather[0].icon?(weatherIcon.setAttribute("src","dist/img/fog.png"),weatherWord.textContent="Mgliście"):"01d"===t.weather[0].icon?(weatherIcon.setAttribute("src","dist/img/sun.png"),weatherWord.textContent="Słonecznie"):"01n"===t.weather[0].icon?(weatherIcon.setAttribute("src","dist/img/moon.png"),weatherWord.textContent="Bezchmurnie"):"02d"===t.weather[0].icon||"03d"===t.weather[0].icon||"04d"===t.weather[0].icon?(weatherIcon.setAttribute("src","dist/img/cloud.png"),weatherWord.textContent="Pochmurno"):"02n"!==t.weather[0].icon&&"03n"!==t.weather[0].icon&&"04n"!==t.weather[0].icon||(weatherIcon.setAttribute("src","dist/img/nightCloud.png"),weatherWord.textContent="Pochmurno")})},_loop=function(t){infoIcons[t].addEventListener("mouseenter",function(){infoCards[t].style.display="block"})},i=0;i<infoIcons.length;i++)_loop(i);for(var _loop2=function(t){infoIcons[t].addEventListener("mouseleave",function(){infoCards[t].style.display="none"})},_i=0;_i<infoIcons.length;_i++)_loop2(_i);var pressEnter=function(t){t.preventDefault(),13===t.keyCode&&getCoordinates()};okBtn.addEventListener("click",getCoordinates),input.addEventListener("keyup",pressEnter);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJva0J0biIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImlucHV0IiwicG9sbHV0aW9uSWNvbiIsInBvbGx1dGlvbldvcmQiLCJwbTEwIiwicG0yNSIsIndlYXRoZXJJY29uIiwid2VhdGhlcldvcmQiLCJ0ZW1wIiwiZmVlbCIsImh1bSIsImNpdHlOYW1lIiwiY2l0eWVycm9yIiwiQVBJX0tFWSIsImdldENvb3JkaW5hdGVzIiwiZmV0Y2giLCJjaXR5IiwidmFsdWUiLCJ0aGVuIiwibGF0IiwicmVzIiwianNvbiIsImxvbiIsImdldEFpclBvbGx1dGlvbiIsImdldFdlYXRoZXIiLCJkYXRhIiwidGV4dENvbnRlbnQiLCJteVVuaW9uc0FyciIsInVuaW9uc0FyciIsImFpckNvbXBvbmVudCIsImxpc3QiLCJjb21wb25lbnRzIiwibWFpbiIsInBtMl81IiwiY28iLCJzbzIiLCJpIiwic3R5bGUiLCJsZW5ndGgiLCJ0b0ZpeGVkIiwic2V0QXR0cmlidXRlIiwiYXFpIiwicGFyZW50RWxlbWVudCIsImJhY2tncm91bmRDb2xvciIsImNvbG9yIiwiQVBJX0xJTkszIiwia21QZXJIIiwiZmVlbHNfbGlrZSIsImh1bWlkaXR5Iiwid2luZCIsIndlYXRoZXIiLCJzcGVlZCIsImljb24iLCJhZGRFdmVudExpc3RlbmVyIiwiaW5mb0NhcmRzIiwiZGlzcGxheSIsIl9sb29wIiwiaW5mb0ljb25zIiwiX2xvb3AyIiwicHJlc3NFbnRlciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIl9pIl0sIm1hcHBpbmdzIjoiYUE0SUEsSUE1SUEsSUFBTUEsTUFBUUMsU0FBU0MsY0FBYyxLQUFLLEVBQ3BDQyxNQUFRRixTQUFTQyxjQUFjLE9BQU8sRUFEdENGLFVBQVFDLFNBQVNDLGlCQUFvQixPQUFBLEVBQ3JDQyxVQUFRRixTQUFTQyxpQkFBc0IsMEJBQUEsRUFLdkNFLGNBQWdCSCxTQUFTQyxjQUFjLCtCQUErQixFQUQ1RUcsY0FBQUosU0FB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QUNBQSxLQUFETyxFQUFDUCxTQUxKdkMsZUFBYyxDQUVoQixFQUVBaEIsTUFBTXVELGlCQUFpQixRQUFTdkMsY0FBYyxFQUM5Q2IsTUFBTW9ELGlCQUFpQixRQUFTTSxVQUFVIiwiZmlsZSI6InNjcmlwdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBva0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5vaycpO1xyXG5jb25zdCBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7XHJcbmNvbnN0IGluZm9JY29ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pbmZvJyk7XHJcbmNvbnN0IGluZm9DYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXRlZ29yeS1ib3hfX2NhcmQtaW5mbycpO1xyXG5cclxuLy8gUG9sbHV0aW9uPT09PT09PT09XHJcbmNvbnN0IHBvbGx1dGlvbkljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWlyLXdlYXRoZXJfX2Fpci1xdWFsaXR5LWltZycpO1xyXG5jb25zdCBwb2xsdXRpb25Xb3JkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Fpci1xdWFsaXR5Jyk7XHJcbmNvbnN0IHBtMTAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcG0xMCcpO1xyXG5jb25zdCBwbTI1ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BtMjUnKTtcclxuY29uc3QgY28gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY28nKTtcclxuY29uc3Qgc28yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NvMicpO1xyXG5cclxuLy9XZWF0aGVyPT09PT09PT09PT09PT1cclxuY29uc3Qgd2VhdGhlckljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2VhdGhlci10eXBlX19pbWcnKTtcclxuY29uc3Qgd2VhdGhlcldvcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcud2VhdGhlci10eXBlX190aXRsZScpO1xyXG5cclxuY29uc3QgdGVtcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0ZW1wJyk7XHJcbmNvbnN0IGZlZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZmVlbCcpO1xyXG5jb25zdCBodW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaHVtJyk7XHJcbmNvbnN0IHdpbmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjd2luZCcpO1xyXG5cclxuY29uc3QgY2l0eU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWRyZXNzX19uYW1lLWNpdHknKTtcclxuY29uc3QgY2l0eWVycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNpdHktZXJyb3InKTtcclxuXHJcbmNvbnN0IEFQSV9MSU5LID0gJ2h0dHBzOi8vYXBpLm9wZW53ZWF0aGVybWFwLm9yZy9nZW8vMS4wL2RpcmVjdD9xPSc7XHJcbmNvbnN0IEFQSV9LRVkgPSAnJmFwcGlkPWIwMDU3NjNhNWY1NzAxMzc2YjY0MWY2ZDg2NmU3ZTY0JnVuaXRzPW1ldHJpYyc7XHJcblxyXG5jb25zdCBnZXRDb29yZGluYXRlcyA9ICgpID0+IHtcclxuXHRjb25zdCBjaXR5ID0gaW5wdXQudmFsdWUgfHwgJ1dyb2PFgmF3JztcclxuXHRmZXRjaChBUElfTElOSyArIGNpdHkgKyBBUElfS0VZKVxyXG5cdFx0LnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXHJcblx0XHQudGhlbihkYXRhID0+IHtcclxuXHRcdFx0Y29uc3QgbGF0ID0gYGxhdD0ke2RhdGFbMF0ubGF0fWA7XHJcblx0XHRcdGNvbnN0IGxvbiA9IGAmbG9uPSR7ZGF0YVswXS5sb259YDtcclxuXHRcdFx0Z2V0QWlyUG9sbHV0aW9uKGxhdCwgbG9uKTtcclxuXHRcdFx0Z2V0V2VhdGhlcihsYXQsIGxvbik7XHJcblx0XHR9KVxyXG5cdFx0LmNhdGNoKCgpID0+IHtcclxuXHRcdFx0Y2l0eWVycm9yLnRleHRDb250ZW50ID0gJ1dwaXN6IHBvcHJhd27EhSBuYXp3xJkgbWlhc3RhISc7XHJcblx0XHRcdGlucHV0LnZhbHVlID0gJyc7XHJcblx0XHR9KTtcclxufTtcclxuXHJcbmNvbnN0IGdldEFpclBvbGx1dGlvbiA9IChsYXQsIGxvbikgPT4ge1xyXG5cdGNvbnN0IEFQSV9MSU5LMiA9ICdodHRwczovL2FwaS5vcGVud2VhdGhlcm1hcC5vcmcvZGF0YS8yLjUvYWlyX3BvbGx1dGlvbj8nO1xyXG5cdGZldGNoKEFQSV9MSU5LMiArIGxhdCArIGxvbiArIEFQSV9LRVkpXHJcblx0XHQudGhlbihyZXMgPT4gcmVzLmpzb24oKSlcclxuXHRcdC50aGVuKGRhdGEgPT4ge1xyXG5cdFx0XHQvLyBwbTEwLnRleHRDb250ZW50ID0gZGF0YS5saXN0WzBdLmNvbXBvbmVudHMucG0xMC50b0ZpeGVkKDEpICsgJyB1cS9tMyc7XHJcblx0XHRcdC8vIHBtMjUudGV4dENvbnRlbnQgPSBkYXRhLmxpc3RbMF0uY29tcG9uZW50cy5wbTJfNS50b0ZpeGVkKDEpICsgJyB1cS9tMyc7XHJcblx0XHRcdC8vIGNvLnRleHRDb250ZW50ID0gZGF0YS5saXN0WzBdLmNvbXBvbmVudHMuY28udG9GaXhlZCgxKSArICcgdXEvbTMnO1xyXG5cdFx0XHQvLyBzbzIudGV4dENvbnRlbnQgPSBkYXRhLmxpc3RbMF0uY29tcG9uZW50cy5zbzIudG9GaXhlZCgxKSArICcgdXEvbTMnO1xyXG5cdFx0XHRjb25zdCBteVVuaW9uc0FyciA9IFtwbTEwLCBwbTI1LCBjbywgc28yXTtcclxuXHRcdFx0Y29uc3QgYWlyQ29tcG9uZW50ID0gZGF0YS5saXN0WzBdLmNvbXBvbmVudHM7XHJcblx0XHRcdGNvbnN0IHVuaW9uc0FyciA9IFthaXJDb21wb25lbnQucG0xMCxhaXJDb21wb25lbnQucG0yXzUsYWlyQ29tcG9uZW50LmNvLGFpckNvbXBvbmVudC5zbzIsXTtcclxuXHJcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbXlVbmlvbnNBcnIubGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRteVVuaW9uc0FycltpXS50ZXh0Q29udGVudCA9IHVuaW9uc0FycltpXS50b0ZpeGVkKDEpICsgJyB1cS9tMyc7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGRhdGEubGlzdFswXS5tYWluLmFxaSA9PT0gMSkge1xyXG5cdFx0XHRcdHBvbGx1dGlvbldvcmQudGV4dENvbnRlbnQgPSAnRG9icmEnO1xyXG5cdFx0XHRcdHBvbGx1dGlvbldvcmQuc3R5bGUuY29sb3IgPSAnbGltZSc7XHJcblx0XHRcdFx0cG9sbHV0aW9uSWNvbi5zZXRBdHRyaWJ1dGUoJ3NyYycsICdkaXN0L2ltZy9zbWlsZS5wbmcnKTtcclxuXHRcdFx0fSBlbHNlIGlmIChkYXRhLmxpc3RbMF0ubWFpbi5hcWkgPT09IDIpIHtcclxuXHRcdFx0XHRwb2xsdXRpb25Xb3JkLnRleHRDb250ZW50ID0gJ8WacmVkbmlhJztcclxuXHRcdFx0XHRwb2xsdXRpb25Xb3JkLnN0eWxlLmNvbG9yID0gJ29yYW5nZSc7XHJcblx0XHRcdFx0cG9sbHV0aW9uSWNvbi5zZXRBdHRyaWJ1dGUoJ3NyYycsICdkaXN0L2ltZy9jb25mdXNlZC5wbmcnKTtcclxuXHRcdFx0fSBlbHNlIGlmIChkYXRhLmxpc3RbMF0ubWFpbi5hcWkgPj0gMykge1xyXG5cdFx0XHRcdHBvbGx1dGlvbldvcmQudGV4dENvbnRlbnQgPSAnWsWCYSc7XHJcblx0XHRcdFx0cG9sbHV0aW9uV29yZC5zdHlsZS5jb2xvciA9ICdyZWQnO1xyXG5cdFx0XHRcdHBvbGx1dGlvbkljb24uc2V0QXR0cmlidXRlKCdzcmMnLCAnZGlzdC9pbWcvbWFzay5wbmcnKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoZGF0YS5saXN0WzBdLmNvbXBvbmVudHMucG0yXzUgPj0gMTApIHtcclxuXHRcdFx0XHRwbTI1LnBhcmVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoMjA3LCAxOCwgNDksIDAuNjY0KSc7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGRhdGEubGlzdFswXS5jb21wb25lbnRzLnBtMTAgPj0gMjApIHtcclxuXHRcdFx0XHRwbTEwLnBhcmVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoMjA3LCAxOCwgNDksIDAuNjY0KSc7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGRhdGEubGlzdFswXS5jb21wb25lbnRzLmNvID49IDkwMDApIHtcclxuXHRcdFx0XHRjby5wYXJlbnRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2JhKDIwNywgMTgsIDQ5LCAwLjY2NCknO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChkYXRhLmxpc3RbMF0uY29tcG9uZW50cy5zbzIgPj0gMTI1KSB7XHJcblx0XHRcdFx0c28yLnBhcmVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoMjA3LCAxOCwgNDksIDAuNjY0KSc7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG59O1xyXG5cclxuY29uc3QgZ2V0V2VhdGhlciA9IChsYXQsIGxvbikgPT4ge1xyXG5cdGNvbnN0IEFQSV9MSU5LMyA9ICdodHRwczovL2FwaS5vcGVud2VhdGhlcm1hcC5vcmcvZGF0YS8yLjUvd2VhdGhlcj8nO1xyXG5cdGZldGNoKEFQSV9MSU5LMyArIGxhdCArIGxvbiArIEFQSV9LRVkpXHJcblx0XHQudGhlbihyZXMgPT4gcmVzLmpzb24oKSlcclxuXHRcdC50aGVuKGRhdGEgPT4ge1xyXG5cclxuXHRcdFx0aWYgKGlucHV0LnZhbHVlID09PSAnJykge1xyXG5cdFx0XHRcdGlucHV0LnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCAnTXVzaXN6IHBvZGHEhyBuYXp3xJkgbWlhc3RhJyk7XHJcblx0XHRcdFx0Y2l0eU5hbWUudGV4dENvbnRlbnQgPSAnV1JPQ8WBQVcnO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGNpdHlOYW1lLnRleHRDb250ZW50ID0gaW5wdXQudmFsdWUudG9VcHBlckNhc2UoKTtcclxuXHRcdFx0XHRpbnB1dC5zZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJywgJ1BvZGFqIG5henfEmSBtaWFzdGEnKTtcclxuXHRcdFx0XHRpbnB1dC52YWx1ZSA9ICcnO1xyXG5cdFx0XHRcdGNpdHllcnJvci50ZXh0Q29udGVudCA9ICcnO1xyXG5cdFx0XHR9XHJcblx0XHRcdGNvbnN0IGttUGVySCA9IChkYXRhLndpbmQuc3BlZWQgKiAzLjYpLnRvRml4ZWQoMSk7XHJcblx0XHRcdHRlbXAudGV4dENvbnRlbnQgPSBkYXRhLm1haW4udGVtcC50b0ZpeGVkKDEpICsgJyDihIMnO1xyXG5cdFx0XHRmZWVsLnRleHRDb250ZW50ID0gZGF0YS5tYWluLmZlZWxzX2xpa2UudG9GaXhlZCgxKSArICcg4oSDJztcclxuXHRcdFx0aHVtLnRleHRDb250ZW50ID0gZGF0YS5tYWluLmh1bWlkaXR5ICsgJyAlJztcclxuXHRcdFx0d2luZC50ZXh0Q29udGVudCA9IGttUGVySCArICcga20vaCc7XHJcblx0XHRcdGlmIChkYXRhLndlYXRoZXJbMF0uaWNvbiA9PT0gJzExZCcpIHtcclxuXHRcdFx0XHR3ZWF0aGVySWNvbi5zZXRBdHRyaWJ1dGUoJ3NyYycsICdkaXN0L2ltZy90aHVuZGVyc3Rvcm0ucG5nJyk7XHJcblx0XHRcdFx0d2VhdGhlcldvcmQudGV4dENvbnRlbnQgPSAnQnVyemEnO1xyXG5cdFx0XHR9IGVsc2UgaWYgKGRhdGEud2VhdGhlclswXS5pY29uID09PSAnMDlkJykge1xyXG5cdFx0XHRcdHdlYXRoZXJJY29uLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2Rpc3QvaW1nL2RyaXp6bGUucG5nJyk7XHJcblx0XHRcdFx0d2VhdGhlcldvcmQudGV4dENvbnRlbnQgPSAnTcW8YXdrYSc7XHJcblx0XHRcdH0gZWxzZSBpZiAoZGF0YS53ZWF0aGVyWzBdLmljb24gPT09ICcxMGQnIHx8IGRhdGEud2VhdGhlclswXS5pY29uID09PSAnMDlkJyB8fCBkYXRhLndlYXRoZXJbMF0uaWNvbiA9PT0gJzA5bicpIHtcclxuXHRcdFx0XHR3ZWF0aGVySWNvbi5zZXRBdHRyaWJ1dGUoJ3NyYycsICdkaXN0L2ltZy9yYWluLnBuZycpO1xyXG5cdFx0XHRcdHdlYXRoZXJXb3JkLnRleHRDb250ZW50ID0gJ0Rlc3pjem93byc7XHJcblx0XHRcdH0gZWxzZSBpZiAoZGF0YS53ZWF0aGVyWzBdLmljb24gPT09ICcxM2QnKSB7XHJcblx0XHRcdFx0d2VhdGhlckljb24uc2V0QXR0cmlidXRlKCdzcmMnLCAnZGlzdC9pbWcvaWNlLnBuZycpO1xyXG5cdFx0XHRcdHdlYXRoZXJXb3JkLnRleHRDb250ZW50ID0gJ8WabmllZyc7XHJcblx0XHRcdH0gZWxzZSBpZiAoZGF0YS53ZWF0aGVyWzBdLmljb24gPT09ICc1MGQnKSB7XHJcblx0XHRcdFx0d2VhdGhlckljb24uc2V0QXR0cmlidXRlKCdzcmMnLCAnZGlzdC9pbWcvZm9nLnBuZycpO1xyXG5cdFx0XHRcdHdlYXRoZXJXb3JkLnRleHRDb250ZW50ID0gJ01nbGnFm2NpZSc7XHJcblx0XHRcdH0gZWxzZSBpZiAoZGF0YS53ZWF0aGVyWzBdLmljb24gPT09ICcwMWQnKSB7XHJcblx0XHRcdFx0d2VhdGhlckljb24uc2V0QXR0cmlidXRlKCdzcmMnLCAnZGlzdC9pbWcvc3VuLnBuZycpO1xyXG5cdFx0XHRcdHdlYXRoZXJXb3JkLnRleHRDb250ZW50ID0gJ1PFgm9uZWN6bmllJztcclxuXHRcdFx0fSBlbHNlIGlmIChkYXRhLndlYXRoZXJbMF0uaWNvbiA9PT0gJzAxbicpIHtcclxuXHRcdFx0XHR3ZWF0aGVySWNvbi5zZXRBdHRyaWJ1dGUoJ3NyYycsICdkaXN0L2ltZy9tb29uLnBuZycpO1xyXG5cdFx0XHRcdHdlYXRoZXJXb3JkLnRleHRDb250ZW50ID0gJ0JlemNobXVybmllJztcclxuXHRcdFx0fSBlbHNlIGlmIChkYXRhLndlYXRoZXJbMF0uaWNvbiA9PT0gJzAyZCcgfHwgZGF0YS53ZWF0aGVyWzBdLmljb24gPT09ICcwM2QnIHx8IGRhdGEud2VhdGhlclswXS5pY29uID09PSAnMDRkJykge1xyXG5cdFx0XHRcdHdlYXRoZXJJY29uLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2Rpc3QvaW1nL2Nsb3VkLnBuZycpO1xyXG5cdFx0XHRcdHdlYXRoZXJXb3JkLnRleHRDb250ZW50ID0gJ1BvY2htdXJubyc7XHJcblx0XHRcdH0gZWxzZSBpZiAoZGF0YS53ZWF0aGVyWzBdLmljb24gPT09ICcwMm4nIHx8IGRhdGEud2VhdGhlclswXS5pY29uID09PSAnMDNuJyB8fCBkYXRhLndlYXRoZXJbMF0uaWNvbiA9PT0gJzA0bicpIHtcclxuXHRcdFx0XHR3ZWF0aGVySWNvbi5zZXRBdHRyaWJ1dGUoJ3NyYycsICdkaXN0L2ltZy9uaWdodENsb3VkLnBuZycpO1xyXG5cdFx0XHRcdHdlYXRoZXJXb3JkLnRleHRDb250ZW50ID0gJ1BvY2htdXJubyc7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG59O1xyXG5cclxuXHJcbmZvciAobGV0IGkgPSAwOyBpIDwgaW5mb0ljb25zLmxlbmd0aDsgaSsrKSB7XHJcblx0aW5mb0ljb25zW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRpbmZvQ2FyZHNbaV0uc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcblx0fSk7XHJcbn1cclxuXHJcbmZvciAobGV0IGkgPSAwOyBpIDwgaW5mb0ljb25zLmxlbmd0aDsgaSsrKSB7XHJcblx0aW5mb0ljb25zW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoKSB7XHJcblx0XHRpbmZvQ2FyZHNbaV0uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuXHR9KTtcclxufVxyXG5cclxuY29uc3QgcHJlc3NFbnRlciA9IGUgPT4ge1xyXG5cdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRpZiAoZS5rZXlDb2RlID09PSAxMykge1xyXG5cdFx0Z2V0Q29vcmRpbmF0ZXMoKTtcclxuXHR9XHJcbn07XHJcblxyXG5va0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGdldENvb3JkaW5hdGVzKTtcclxuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBwcmVzc0VudGVyKTtcclxuIl19
