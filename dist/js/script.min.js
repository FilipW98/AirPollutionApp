"use strict";var okBtn=document.querySelector(".ok"),input=document.querySelector("input"),pollutionIcon=document.querySelector(".air-weather__img"),pollutionWord=document.querySelector("#air-quality"),pm10=document.querySelector("#pm10"),pm25=document.querySelector("#pm25"),co=document.querySelector("#co"),so2=document.querySelector("#so2"),weatherIcon=document.querySelector(".weather-type__img"),weatherWord=document.querySelector(".weather-type__title"),temp=document.querySelector("#temp"),feel=document.querySelector("#feel"),hum=document.querySelector("#hum"),wind=document.querySelector("#wind"),cityName=document.querySelector(".adress__city"),API_LINK="http://api.openweathermap.org/geo/1.0/direct?q=",API_KEY="&appid=b005763a5f5701376b641f6d866e7e64&units=metric",getCoordinates=function(){var t=input.value||"Wrocław";pm25.parentElement.style.backgroundColor="rgba(213, 212, 212, 0.205)",pm10.parentElement.style.backgroundColor="rgba(213, 212, 212, 0.205)",co.parentElement.style.backgroundColor="rgba(213, 212, 212, 0.205)",so2.parentElement.style.backgroundColor="rgba(213, 212, 212, 0.205)",fetch(API_LINK+t+API_KEY).then(function(t){return t.json()}).then(function(t){var e="lat=".concat(t[0].lat),t="&lon=".concat(t[0].lon);getAirPollution(e,t),getWeather(e,t)}).catch(function(t){return console.log("error",t)})},getAirPollution=function(t,e){fetch("http://api.openweathermap.org/data/2.5/air_pollution?"+t+e+API_KEY).then(function(t){return t.json()}).then(function(t){pm10.textContent=t.list[0].components.pm10.toFixed(1)+" uq/m3",pm25.textContent=t.list[0].components.pm2_5.toFixed(1)+" uq/m3",co.textContent=t.list[0].components.co.toFixed(1)+" uq/m3",so2.textContent=t.list[0].components.so2.toFixed(1)+" uq/m3",1===t.list[0].main.aqi?(pollutionWord.textContent="Dobra",pollutionWord.style.color="lime",pollutionIcon.setAttribute("src","dist/img/smile.png")):2===t.list[0].main.aqi?(pollutionWord.textContent="Średnia",pollutionWord.style.color="orange",pollutionIcon.setAttribute("src","dist/img/confused.png")):3<=t.list[0].main.aqi&&(pollutionWord.textContent="Zła",pollutionWord.style.color="red",pollutionIcon.setAttribute("src","dist/img/mask.png")),10<=t.list[0].components.pm2_5&&(pm25.parentElement.style.backgroundColor="rgba(207, 18, 49, 0.664)"),20<=t.list[0].components.pm10&&(pm10.parentElement.style.backgroundColor="rgba(207, 18, 49, 0.664)"),15e3<=t.list[0].components.co&&(co.parentElement.style.backgroundColor="rgba(207, 18, 49, 0.664)"),125<=t.list[0].components.so2&&(so2.parentElement.style.backgroundColor="rgba(207, 18, 49, 0.664)")})},getWeather=function(t,e){fetch("https://api.openweathermap.org/data/2.5/weather?"+t+e+API_KEY).then(function(t){return t.json()}).then(function(t){""===input.value?(input.setAttribute("placeholder","Musisz podać nazwę miasta"),cityName.textContent="WROCŁAW"):(cityName.textContent=input.value.toUpperCase(),input.setAttribute("placeholder","Podaj nazwę miasta"),input.value="");var e=(3.6*t.wind.speed).toFixed(1);temp.textContent=t.main.temp.toFixed(1)+" ℃",feel.textContent=t.main.feels_like.toFixed(1)+" ℃",hum.textContent=t.main.humidity+" %",wind.textContent=e+" km/h",t.weather[0].id<233?(weatherIcon.setAttribute("src","dist/img/thunderstorm.png"),weatherWord.textContent="Burza"):299<t.weather[0].id&&t.weather[0].id<500?(weatherIcon.setAttribute("src","dist/img/drizzle.png"),weatherWord.textContent="Mżawka"):500<=t.weather[0].id&&t.weather[0].id<600?(weatherIcon.setAttribute("src","dist/img/rain.png"),weatherWord.textContent="Deszczowo"):600<=t.weather[0].id&&t.weather[0].id<701?(weatherIcon.setAttribute("src","dist/img/ice.png"),weatherWord.textContent="Śnieg"):701<=t.weather[0].id&&t.weather[0].id<800?(weatherIcon.setAttribute("src","dist/img/fog.png"),weatherWord.textContent="Mgliśnie"):(t.weather[0].id=800,weatherIcon.setAttribute("src","dist/img/sun.png"),weatherWord.textContent="Słonecznie")})},pressEnter=function(t){t.preventDefault(),13===t.keyCode&&getCoordinates()};okBtn.addEventListener("click",getCoordinates),input.addEventListener("keyup",pressEnter);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJva0J0biIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImlucHV0IiwicG9sbHV0aW9uSWNvbiIsInBvbGx1dGlvbldvcmQiLCJwbTEwIiwicG0yNSIsInNvMiIsIndlYXRoZXJJY29uIiwidGVtcCIsImZlZWwiLCJodW0iLCJ3aW5kIiwiQVBJX0xJTksiLCJBUElfS0VZIiwiZ2V0Q29vcmRpbmF0ZXMiLCJzdHlsZSIsInBhcmVudEVsZW1lbnQiLCJ2YWx1ZSIsImJhY2tncm91bmRDb2xvciIsImNvIiwiZmV0Y2giLCJnZXRBaXJQb2xsdXRpb24iLCJsb24iLCJ0aGVuIiwiZ2V0V2VhdGhlciIsImxhdCIsImpzb24iLCJkYXRhIiwiY29uc29sZSIsImVyciIsImNvbmNhdCIsIkFQSV9MSU5LMiIsImxvZyIsImxpc3QiLCJjb21wb25lbnRzIiwibWFpbiIsInNldEF0dHJpYnV0ZSIsInRvRml4ZWQiLCJ0ZXh0Q29udGVudCIsImFxaSIsInBtMl81IiwiY29sb3IiLCJBUElfTElOSzMiLCJyZXMiLCJjaXR5TmFtZSIsIm1QZXJTIiwia21QZXJIIiwid2VhdGhlciIsIndlYXRoZXJXb3JkIiwidG9VcHBlckNhc2UiLCJzcGVlZCIsImlkIiwiaHVtaWRpdHkiLCJwcmVzc0VudGVyIiwicHJldmVudERlZmF1bHQiLCJlIiwia2V5Q29kZSIsImFkZEV2ZW50TGlzdGVuZXIiXSwibWFwcGluZ3MiOiJhQUFBLElBQU1BLE1BQVFDLFNBQVNDLGNBQWMsS0FBSyxFQUNwQ0MsTUFBUUYsU0FBU0MsY0FBYyxPQUFPLEVBR3RDRSxjQUFnQkgsU0FBU0MsY0FBYyxtQkFBbUIsRUFEaEVHLGNBQUFKLFNBQUFDLGNBQUEsY0FBQSxFQUVNRyxLQUFBQSxTQUFnQkosY0FBU0MsT0FBYyxFQUV2Q0ksS0FBT0wsU0FBU0MsY0FBYyxPQUFRLEVBQ3RDSyxHQUFPTixTQUFTQyxjQUFjLEtBQUEsRUFDNUJNLElBQUdQLFNBQVNDLGNBQWMsTUFB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QVYsWUFBQSxTQUVlLEtBQUFYLEVBQUdvQixRQUFiTSxHQUFBQSxJQUFrQjFCLEVBQUFvQixRQUFBLEdBQUFJLEdBQUEsS0FDckJHLFlBQUFBLGFBQWdCLE1BQUEsa0JBQUEsRUFDbEJOLFlBQWFWLFlBQVMsYUFDckJ4QixFQUFnQmlDLFFBQUEsR0FBQUksR0FBQSxJQUNqQjVDLFlBQUE2QixhQUFBLE1BQUEsa0JBQUEsRUFDQVksWUFBQVYsWUFBQSxhQVJDLENBQUMsQ0FDSCxFQUVNZSxXQUFhLFNBQUFFLEdBQ2xCQSxFQUFFRCxlQUFjLEVBQ0UsS0FBZEMsRUFBRUMsU0FDTDFDLGVBQWMsQ0FFaEIsRUFFQWhCLE1BQU0yRCxpQkFBaUIsUUFBUzNDLGNBQWMsRUFDOUNiLE1BQU13RCxpQkFBaUIsUUFBU0osVUFBVSIsImZpbGUiOiJzY3JpcHQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgb2tCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub2snKTtcclxuY29uc3QgaW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpO1xyXG5cclxuLy8gUG9sbHV0aW9uPT09PT09PT09XHJcbmNvbnN0IHBvbGx1dGlvbkljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWlyLXdlYXRoZXJfX2ltZycpO1xyXG5jb25zdCBwb2xsdXRpb25Xb3JkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Fpci1xdWFsaXR5Jyk7XHJcblxyXG5jb25zdCBwbTEwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BtMTAnKTtcclxuY29uc3QgcG0yNSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwbTI1Jyk7XHJcbmNvbnN0IGNvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NvJyk7XHJcbmNvbnN0IHNvMiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzbzInKTtcclxuXHJcbi8vV2VhdGhlcj09PT09PT09PT09PT09XHJcbmNvbnN0IHdlYXRoZXJJY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndlYXRoZXItdHlwZV9faW1nJyk7XHJcbmNvbnN0IHdlYXRoZXJXb3JkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndlYXRoZXItdHlwZV9fdGl0bGUnKTtcclxuXHJcbmNvbnN0IHRlbXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGVtcCcpO1xyXG5jb25zdCBmZWVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZlZWwnKTtcclxuY29uc3QgaHVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2h1bScpO1xyXG5jb25zdCB3aW5kID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3dpbmQnKTtcclxuXHJcbmNvbnN0IGNpdHlOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkcmVzc19fY2l0eScpO1xyXG5cclxuY29uc3QgQVBJX0xJTksgPSAnaHR0cDovL2FwaS5vcGVud2VhdGhlcm1hcC5vcmcvZ2VvLzEuMC9kaXJlY3Q/cT0nO1xyXG5jb25zdCBBUElfS0VZID0gJyZhcHBpZD1iMDA1NzYzYTVmNTcwMTM3NmI2NDFmNmQ4NjZlN2U2NCZ1bml0cz1tZXRyaWMnO1xyXG5cclxuLy8gY29uc3QgQVBJX0xJTksgPSBcImh0dHBzOi8vYXBpLm9wZW5hcS5vcmcvdjEvbWVhc3VyZW1lbnRzP1wiXHJcbi8vIGNvbnN0IEFQSV9LRVkyID0gXCIma2V5PTAxYzNjODQ4ZTEzNjQ3ZWU5N2UxMDI4MDliYTk3YjQzXCI7XHJcbi8vIGNvbnN0IEFQSV9MSU5LMyA9IFwiaHR0cHM6Ly9hcGkub3BlbndlYXRoZXJtYXAub3JnL2RhdGEvMi41L3dlYXRoZXI/XCJcclxuXHJcbmNvbnN0IGdldENvb3JkaW5hdGVzID0gKCkgPT4ge1xyXG5cdGNvbnN0IGNpdHkgPSBpbnB1dC52YWx1ZSB8fCAnV3JvY8WCYXcnO1xyXG5cdHBtMjUucGFyZW50RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiYSgyMTMsIDIxMiwgMjEyLCAwLjIwNSknO1xyXG5cdHBtMTAucGFyZW50RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiYSgyMTMsIDIxMiwgMjEyLCAwLjIwNSknO1xyXG5cdGNvLnBhcmVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoMjEzLCAyMTIsIDIxMiwgMC4yMDUpJztcclxuXHRzbzIucGFyZW50RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiYSgyMTMsIDIxMiwgMjEyLCAwLjIwNSknO1xyXG5cclxuXHJcblxyXG5cdGZldGNoKEFQSV9MSU5LICsgY2l0eSArIEFQSV9LRVkpXHJcblx0XHQudGhlbihyZXMgPT4gcmVzLmpzb24oKSlcclxuXHRcdC50aGVuKGRhdGEgPT4ge1xyXG5cdFx0XHRjb25zdCBsYXQgPSBgbGF0PSR7ZGF0YVswXS5sYXR9YDtcclxuXHRcdFx0Y29uc3QgbG9uID0gYCZsb249JHtkYXRhWzBdLmxvbn1gO1xyXG5cdFx0XHRnZXRBaXJQb2xsdXRpb24obGF0LCBsb24pO1xyXG5cdFx0XHRnZXRXZWF0aGVyKGxhdCwgbG9uKTtcclxuXHRcdH0pXHJcblx0XHQuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKCdlcnJvcicsIGVycikpO1xyXG59O1xyXG5cclxuY29uc3QgZ2V0QWlyUG9sbHV0aW9uID0gKGxhdCwgbG9uKSA9PiB7XHJcblx0XHJcblx0Y29uc3QgQVBJX0xJTksyID0gJ2h0dHA6Ly9hcGkub3BlbndlYXRoZXJtYXAub3JnL2RhdGEvMi41L2Fpcl9wb2xsdXRpb24/JztcclxuXHRmZXRjaChBUElfTElOSzIgKyBsYXQgKyBsb24gKyBBUElfS0VZKVxyXG5cdFx0LnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXHJcblx0XHQudGhlbihkYXRhID0+IHtcclxuXHRcdFxyXG5cdFx0XHRwbTEwLnRleHRDb250ZW50ID0gZGF0YS5saXN0WzBdLmNvbXBvbmVudHMucG0xMC50b0ZpeGVkKDEpICsgJyB1cS9tMyc7XHJcblx0XHRcdHBtMjUudGV4dENvbnRlbnQgPSBkYXRhLmxpc3RbMF0uY29tcG9uZW50cy5wbTJfNS50b0ZpeGVkKDEpICsgJyB1cS9tMyc7XHJcblx0XHRcdGNvLnRleHRDb250ZW50ID0gZGF0YS5saXN0WzBdLmNvbXBvbmVudHMuY28udG9GaXhlZCgxKSArICcgdXEvbTMnO1xyXG5cdFx0XHRzbzIudGV4dENvbnRlbnQgPSBkYXRhLmxpc3RbMF0uY29tcG9uZW50cy5zbzIudG9GaXhlZCgxKSArICcgdXEvbTMnO1xyXG5cclxuXHRcdFx0XHJcblxyXG5cdFx0XHRpZiAoZGF0YS5saXN0WzBdLm1haW4uYXFpID09PSAxKSB7XHJcblx0XHRcdFx0cG9sbHV0aW9uV29yZC50ZXh0Q29udGVudCA9ICdEb2JyYSc7XHJcblx0XHRcdFx0cG9sbHV0aW9uV29yZC5zdHlsZS5jb2xvciA9ICdsaW1lJztcclxuXHRcdFx0XHRwb2xsdXRpb25JY29uLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2Rpc3QvaW1nL3NtaWxlLnBuZycpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKGRhdGEubGlzdFswXS5tYWluLmFxaSA9PT0gMikge1xyXG5cdFx0XHRcdHBvbGx1dGlvbldvcmQudGV4dENvbnRlbnQgPSAnxZpyZWRuaWEnO1xyXG5cdFx0XHRcdHBvbGx1dGlvbldvcmQuc3R5bGUuY29sb3IgPSAnb3JhbmdlJztcclxuXHRcdFx0XHRwb2xsdXRpb25JY29uLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2Rpc3QvaW1nL2NvbmZ1c2VkLnBuZycpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKGRhdGEubGlzdFswXS5tYWluLmFxaSA+PSAzKSB7XHJcblx0XHRcdFx0cG9sbHV0aW9uV29yZC50ZXh0Q29udGVudCA9ICdaxYJhJztcclxuXHRcdFx0XHRwb2xsdXRpb25Xb3JkLnN0eWxlLmNvbG9yID0gJ3JlZCc7XHJcblx0XHRcdFx0cG9sbHV0aW9uSWNvbi5zZXRBdHRyaWJ1dGUoJ3NyYycsICdkaXN0L2ltZy9tYXNrLnBuZycpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoZGF0YS5saXN0WzBdLmNvbXBvbmVudHMucG0yXzUgPj0gMTApIHtcclxuXHRcdFx0XHRwbTI1LnBhcmVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoMjA3LCAxOCwgNDksIDAuNjY0KSc7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGRhdGEubGlzdFswXS5jb21wb25lbnRzLnBtMTAgPj0gMjApIHtcclxuXHRcdFx0XHRwbTEwLnBhcmVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoMjA3LCAxOCwgNDksIDAuNjY0KSc7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGRhdGEubGlzdFswXS5jb21wb25lbnRzLmNvID49IDE1MDAwKSB7XHJcblx0XHRcdFx0Y28ucGFyZW50RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiYSgyMDcsIDE4LCA0OSwgMC42NjQpJztcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoZGF0YS5saXN0WzBdLmNvbXBvbmVudHMuc28yID49IDEyNSkge1xyXG5cdFx0XHRcdHNvMi5wYXJlbnRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2JhKDIwNywgMTgsIDQ5LCAwLjY2NCknO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxufTtcclxuXHJcbmNvbnN0IGdldFdlYXRoZXIgPSAobGF0LCBsb24pID0+IHtcclxuXHRjb25zdCBBUElfTElOSzMgPSAnaHR0cHM6Ly9hcGkub3BlbndlYXRoZXJtYXAub3JnL2RhdGEvMi41L3dlYXRoZXI/JztcclxuXHRmZXRjaChBUElfTElOSzMgKyBsYXQgKyBsb24gKyBBUElfS0VZKVxyXG5cdFx0LnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXHJcblx0XHQudGhlbihkYXRhID0+IHtcclxuXHRcdFx0aWYgKGlucHV0LnZhbHVlID09PSAnJykge1xyXG5cdFx0XHRcdGlucHV0LnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCAnTXVzaXN6IHBvZGHEhyBuYXp3xJkgbWlhc3RhJyk7XHJcblx0XHRcdFx0Y2l0eU5hbWUudGV4dENvbnRlbnQgPSBcIldST0PFgUFXXCJcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRjaXR5TmFtZS50ZXh0Q29udGVudCA9IGlucHV0LnZhbHVlLnRvVXBwZXJDYXNlKCk7XHJcblx0XHRcdFx0aW5wdXQuc2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicsICdQb2RhaiBuYXp3xJkgbWlhc3RhJyk7XHJcblx0XHRcdFx0aW5wdXQudmFsdWUgPSBcIlwiXHJcblx0XHRcdH1cclxuXHRcdFx0Y29uc3QgbVBlclMgPSBkYXRhLndpbmQuc3BlZWQ7XHJcblx0XHRcdGNvbnN0IGttUGVySCA9IChtUGVyUyAqIDMuNikudG9GaXhlZCgxKTtcclxuXHRcdFx0dGVtcC50ZXh0Q29udGVudCA9IGRhdGEubWFpbi50ZW1wLnRvRml4ZWQoMSkgKyAnIOKEgyc7XHJcblx0XHRcdGZlZWwudGV4dENvbnRlbnQgPSBkYXRhLm1haW4uZmVlbHNfbGlrZS50b0ZpeGVkKDEpICsgJyDihIMnO1xyXG5cdFx0XHRodW0udGV4dENvbnRlbnQgPSBkYXRhLm1haW4uaHVtaWRpdHkgKyAnICUnO1xyXG5cdFx0XHR3aW5kLnRleHRDb250ZW50ID0ga21QZXJIICsgJyBrbS9oJztcclxuXHRcdFx0aWYgKGRhdGEud2VhdGhlclswXS5pZCA8IDIzMykge1xyXG5cdFx0XHRcdHdlYXRoZXJJY29uLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2Rpc3QvaW1nL3RodW5kZXJzdG9ybS5wbmcnKTtcclxuXHRcdFx0XHR3ZWF0aGVyV29yZC50ZXh0Q29udGVudCA9ICdCdXJ6YSc7XHJcblx0XHRcdH0gZWxzZSBpZiAoZGF0YS53ZWF0aGVyWzBdLmlkID4gMjk5ICYmIGRhdGEud2VhdGhlclswXS5pZCA8IDUwMCkge1xyXG5cdFx0XHRcdHdlYXRoZXJJY29uLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2Rpc3QvaW1nL2RyaXp6bGUucG5nJyk7XHJcblx0XHRcdFx0d2VhdGhlcldvcmQudGV4dENvbnRlbnQgPSAnTcW8YXdrYSc7XHJcblx0XHRcdH0gZWxzZSBpZiAoZGF0YS53ZWF0aGVyWzBdLmlkID49IDUwMCAmJiBkYXRhLndlYXRoZXJbMF0uaWQgPCA2MDApIHtcclxuXHRcdFx0XHR3ZWF0aGVySWNvbi5zZXRBdHRyaWJ1dGUoJ3NyYycsICdkaXN0L2ltZy9yYWluLnBuZycpO1xyXG5cdFx0XHRcdHdlYXRoZXJXb3JkLnRleHRDb250ZW50ID0gJ0Rlc3pjem93byc7XHJcblx0XHRcdH0gZWxzZSBpZiAoZGF0YS53ZWF0aGVyWzBdLmlkID49IDYwMCAmJiBkYXRhLndlYXRoZXJbMF0uaWQgPCA3MDEpIHtcclxuXHRcdFx0XHR3ZWF0aGVySWNvbi5zZXRBdHRyaWJ1dGUoJ3NyYycsICdkaXN0L2ltZy9pY2UucG5nJyk7XHJcblx0XHRcdFx0d2VhdGhlcldvcmQudGV4dENvbnRlbnQgPSAnxZpuaWVnJztcclxuXHRcdFx0fSBlbHNlIGlmIChkYXRhLndlYXRoZXJbMF0uaWQgPj0gNzAxICYmIGRhdGEud2VhdGhlclswXS5pZCA8IDgwMCkge1xyXG5cdFx0XHRcdHdlYXRoZXJJY29uLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2Rpc3QvaW1nL2ZvZy5wbmcnKTtcclxuXHRcdFx0XHR3ZWF0aGVyV29yZC50ZXh0Q29udGVudCA9ICdNZ2xpxZtuaWUnO1xyXG5cdFx0XHR9IGVsc2UgaWYgKChkYXRhLndlYXRoZXJbMF0uaWQgPSA4MDApKSB7XHJcblx0XHRcdFx0d2VhdGhlckljb24uc2V0QXR0cmlidXRlKCdzcmMnLCAnZGlzdC9pbWcvc3VuLnBuZycpO1xyXG5cdFx0XHRcdHdlYXRoZXJXb3JkLnRleHRDb250ZW50ID0gJ1PFgm9uZWN6bmllJztcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR3ZWF0aGVySWNvbi5zZXRBdHRyaWJ1dGUoJ3NyYycsICdkaXN0L2ltZy9jbG91ZC5wbmcnKTtcclxuXHRcdFx0XHR3ZWF0aGVyV29yZC50ZXh0Q29udGVudCA9ICdQb2NobXVybm8nO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxufTtcclxuXHJcbmNvbnN0IHByZXNzRW50ZXIgPSBlID0+IHtcclxuXHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0aWYgKGUua2V5Q29kZSA9PT0gMTMpIHtcclxuXHRcdGdldENvb3JkaW5hdGVzKCk7XHJcblx0fVxyXG59O1xyXG5cclxub2tCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBnZXRDb29yZGluYXRlcyk7XHJcbmlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgcHJlc3NFbnRlcik7XHJcbiJdfQ==
