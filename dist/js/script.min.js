"use strict";var okBtn=document.querySelector(".ok"),input=document.querySelector("input"),pm10Info=document.querySelector(".category-box__info-pm10"),infoIcon=document.querySelector(".info"),pollutionIcon=document.querySelector(".air-weather__img"),pollutionWord=document.querySelector("#air-quality"),pm10=document.querySelector("#pm10"),pm25=document.querySelector("#pm25"),co=document.querySelector("#co"),so2=document.querySelector("#so2"),weatherIcon=document.querySelector(".weather-type__img"),weatherWord=document.querySelector(".weather-type__title"),temp=document.querySelector("#temp"),feel=document.querySelector("#feel"),hum=document.querySelector("#hum"),wind=document.querySelector("#wind"),cityName=document.querySelector(".adress__city"),cityerror=document.querySelector(".city-error"),API_LINK="http://api.openweathermap.org/geo/1.0/direct?q=",API_KEY="&appid=b005763a5f5701376b641f6d866e7e64&units=metric",getCoordinates=function(){var t=input.value||"Wrocław";pm25.parentElement.style.backgroundColor="rgba(213, 212, 212, 0.205)",pm10.parentElement.style.backgroundColor="rgba(213, 212, 212, 0.205)",co.parentElement.style.backgroundColor="rgba(213, 212, 212, 0.205)",so2.parentElement.style.backgroundColor="rgba(213, 212, 212, 0.205)",fetch(API_LINK+t+API_KEY).then(function(t){return t.json()}).then(function(t){var e="lat=".concat(t[0].lat),t="&lon=".concat(t[0].lon);getAirPollution(e,t),getWeather(e,t)}).catch(function(){cityerror.textContent="Wpisz poprawną nazwę miasta!",input.value="",input.setAttribute("placeholder","Podaj nazwę miasta")})},getAirPollution=function(t,e){fetch("http://api.openweathermap.org/data/2.5/air_pollution?"+t+e+API_KEY).then(function(t){return t.json()}).then(function(t){pm10.textContent=t.list[0].components.pm10.toFixed(1)+" uq/m3",pm25.textContent=t.list[0].components.pm2_5.toFixed(1)+" uq/m3",co.textContent=t.list[0].components.co.toFixed(1)+" uq/m3",so2.textContent=t.list[0].components.so2.toFixed(1)+" uq/m3",1===t.list[0].main.aqi?(pollutionWord.textContent="Dobra",pollutionWord.style.color="lime",pollutionIcon.setAttribute("src","dist/img/smile.png")):2===t.list[0].main.aqi?(pollutionWord.textContent="Średnia",pollutionWord.style.color="orange",pollutionIcon.setAttribute("src","dist/img/confused.png")):3<=t.list[0].main.aqi&&(pollutionWord.textContent="Zła",pollutionWord.style.color="red",pollutionIcon.setAttribute("src","dist/img/mask.png")),10<=t.list[0].components.pm2_5&&(pm25.parentElement.style.backgroundColor="rgba(207, 18, 49, 0.664)"),20<=t.list[0].components.pm10&&(pm10.parentElement.style.backgroundColor="rgba(207, 18, 49, 0.664)"),15e3<=t.list[0].components.co&&(co.parentElement.style.backgroundColor="rgba(207, 18, 49, 0.664)"),125<=t.list[0].components.so2&&(so2.parentElement.style.backgroundColor="rgba(207, 18, 49, 0.664)")})},getWeather=function(t,e){fetch("https://api.openweathermap.org/data/2.5/weather?"+t+e+API_KEY).then(function(t){return t.json()}).then(function(t){""===input.value?(input.setAttribute("placeholder","Musisz podać nazwę miasta"),cityName.textContent="WROCŁAW"):(cityName.textContent=input.value.toUpperCase(),input.setAttribute("placeholder","Podaj nazwę miasta"),input.value="",cityerror.textContent="");var e=(3.6*t.wind.speed).toFixed(1);temp.textContent=t.main.temp.toFixed(1)+" ℃",feel.textContent=t.main.feels_like.toFixed(1)+" ℃",hum.textContent=t.main.humidity+" %",wind.textContent=e+" km/h",t.weather[0].id<233?(weatherIcon.setAttribute("src","dist/img/thunderstorm.png"),weatherWord.textContent="Burza"):299<t.weather[0].id&&t.weather[0].id<500?(weatherIcon.setAttribute("src","dist/img/drizzle.png"),weatherWord.textContent="Mżawka"):500<=t.weather[0].id&&t.weather[0].id<600?(weatherIcon.setAttribute("src","dist/img/rain.png"),weatherWord.textContent="Deszczowo"):600<=t.weather[0].id&&t.weather[0].id<701?(weatherIcon.setAttribute("src","dist/img/ice.png"),weatherWord.textContent="Śnieg"):701<=t.weather[0].id&&t.weather[0].id<800?(weatherIcon.setAttribute("src","dist/img/fog.png"),weatherWord.textContent="Mgliśnie"):(t.weather[0].id=800,weatherIcon.setAttribute("src","dist/img/sun.png"),weatherWord.textContent="Słonecznie")})},pressEnter=function(t){t.preventDefault(),13===t.keyCode&&getCoordinates()},showInfo=function(){pm10Info.style.display="block",console.log("ok")},closeInfo=function(){pm10Info.style.display="none",console.log("ok")};infoIcon.addEventListener("mouseenter",showInfo),infoIcon.addEventListener("mouseleave",closeInfo),okBtn.addEventListener("click",getCoordinates),input.addEventListener("keyup",pressEnter);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJva0J0biIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImlucHV0IiwicG0xMEluZm8iLCJwb2xsdXRpb25JY29uIiwicG0xMCIsInBtMjUiLCJjbyIsInNvMiIsIndlYXRoZXJJY29uIiwid2VhdGhlcldvcmQiLCJmZWVsIiwiaHVtIiwid2luZCIsImNpdHlOYW1lIiwiQVBJX0xJTksiLCJBUElfS0VZIiwiZ2V0Q29vcmRpbmF0ZXMiLCJzdHlsZSIsInBhcmVudEVsZW1lbnQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJmZXRjaCIsImNpdHkiLCJqc29uIiwidGhlbiIsImRhdGEiLCJnZXRBaXJQb2xsdXRpb24iLCJsb24iLCJnZXRXZWF0aGVyIiwibGF0IiwiY29uY2F0IiwiY2l0eWVycm9yIiwidGV4dENvbnRlbnQiLCJzZXRBdHRyaWJ1dGUiLCJBUElfTElOSzIiLCJyZXMiLCJsaXN0IiwicG9sbHV0aW9uV29yZCIsImFxaSIsInRvRml4ZWQiLCJjb21wb25lbnRzIiwicG0yXzUiLCJjb2xvciIsIm1haW4iLCJBUElfTElOSzMiLCJtUGVyUyIsImttUGVySCIsIndlYXRoZXIiLCJ2YWx1ZSIsInRvVXBwZXJDYXNlIiwiaWQiLCJ0ZW1wIiwiZmVlbHNfbGlrZSIsInByZXNzRW50ZXIiLCJwcmV2ZW50RGVmYXVsdCIsImtleUNvZGUiLCJzaG93SW5mbyIsImNvbnNvbGUiLCJpbmZvSWNvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwiZGlzcGxheSIsImxvZyIsImNsb3NlSW5mbyJdLCJtYXBwaW5ncyI6ImFBQUEsSUFBTUEsTUFBUUMsU0FBU0MsY0FBYyxLQUFLLEVBQ3BDQyxNQUFRRixTQUFTQyxjQUFjLE9BQU8sRUFBdENDLFNBQVFGLFNBQVNDLGNBQWMsMEJBQVEsRUFFdkNFLFNBQVdILFNBQVNDLGNBQWMsT0FBQSxFQUd4Q0csY0FBQUosU0FBQUMsY0FBQSxtQkFBQSxFQUNNRyxjQUFnQkosU0FBU0MsY0FBYyxj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WXNCLFFBQUFBLEdBQVdrQixJQUFjekIsRUFBQXNCLFFBQUEsR0FBQUcsR0FBQSxLQUN0Q3pDLFlBQUF3QixhQUFBLE1BQUEsbUJBQUEsRUFDQ3ZCLFlBQUFzQixZQUFBLGFBQ0gsS0FBQVAsRUFBQXNCLFFBQUEsR0FBQUcsSUFBQXpCLEVBQUFzQixRQUFBLEdBQUFHLEdBQUEsS0FFS0csWUFBVXBCLGFBQVZvQixNQUFVLGtCQUFRLEVBQ3JCQyxZQUFBQSxZQUFnQixTQUNJLEtBQWhCQyxFQUFPUixRQUFTLEdBQUFHLElBQUF6QixFQUFBc0IsUUFBQSxHQUFBRyxHQUFBLEtBQ3JCakMsWUFBQUEsYUFBZ0IsTUFBQSxrQkFBQSxFQUNqQlAsWUFBQXNCLFlBQUEsYUFDQVAsRUFBQXNCLFFBQUEsR0FBQUcsR0FBQSxJQUVLTSxZQUFXdkIsYUFBWHVCLE1BQWlCLGtCQUFBLEVBQ3RCckQsWUFBYzZCLFlBQVcsYUFNekJ5QixDQUFBQSxDQUNELEVBSUFDLFdBQVNDLFNBQUFBLEdBQ1Q1RCxFQUFBQSxlQUFNNEQsRUFDQUEsS0FBREMsRUFBQ0QsU0FsQkoxQyxlQUFjLENBRWhCLEVBRU11QyxTQUFXLFdBQ2hCckQsU0FBU2UsTUFBTTJDLFFBQVUsUUFDekJKLFFBQVFLLElBQUksSUFBSSxDQUNqQixFQUVNQyxVQUFZLFdBQ2pCNUQsU0FBU2UsTUFBTTJDLFFBQVUsT0FDekJKLFFBQVFLLElBQUksSUFBSSxDQUNqQixFQUdBSixTQUFTQyxpQkFBaUIsYUFBY0gsUUFBUSxFQUNoREUsU0FBU0MsaUJBQWlCLGFBQWNJLFNBQVMsRUFDakRoRSxNQUFNNEQsaUJBQWlCLFFBQVMxQyxjQUFjLEVBQzlDZixNQUFNeUQsaUJBQWlCLFFBQVNOLFVBQVUiLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG9rQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm9rJyk7XHJcbmNvbnN0IGlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcclxuXHJcbmNvbnN0IHBtMTBJbmZvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhdGVnb3J5LWJveF9faW5mby1wbTEwJyk7XHJcbmNvbnN0IGluZm9JY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmluZm8nKVxyXG5cclxuLy8gUG9sbHV0aW9uPT09PT09PT09XHJcbmNvbnN0IHBvbGx1dGlvbkljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWlyLXdlYXRoZXJfX2ltZycpO1xyXG5jb25zdCBwb2xsdXRpb25Xb3JkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Fpci1xdWFsaXR5Jyk7XHJcblxyXG5jb25zdCBwbTEwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BtMTAnKTtcclxuY29uc3QgcG0yNSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwbTI1Jyk7XHJcbmNvbnN0IGNvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NvJyk7XHJcbmNvbnN0IHNvMiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzbzInKTtcclxuXHJcbi8vV2VhdGhlcj09PT09PT09PT09PT09XHJcbmNvbnN0IHdlYXRoZXJJY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndlYXRoZXItdHlwZV9faW1nJyk7XHJcbmNvbnN0IHdlYXRoZXJXb3JkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndlYXRoZXItdHlwZV9fdGl0bGUnKTtcclxuXHJcbmNvbnN0IHRlbXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGVtcCcpO1xyXG5jb25zdCBmZWVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZlZWwnKTtcclxuY29uc3QgaHVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2h1bScpO1xyXG5jb25zdCB3aW5kID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3dpbmQnKTtcclxuXHJcbmNvbnN0IGNpdHlOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkcmVzc19fY2l0eScpO1xyXG5jb25zdCBjaXR5ZXJyb3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2l0eS1lcnJvcicpO1xyXG5cclxuY29uc3QgQVBJX0xJTksgPSAnaHR0cDovL2FwaS5vcGVud2VhdGhlcm1hcC5vcmcvZ2VvLzEuMC9kaXJlY3Q/cT0nO1xyXG5jb25zdCBBUElfS0VZID0gJyZhcHBpZD1iMDA1NzYzYTVmNTcwMTM3NmI2NDFmNmQ4NjZlN2U2NCZ1bml0cz1tZXRyaWMnO1xyXG5cclxuLy8gY29uc3QgQVBJX0xJTksgPSBcImh0dHBzOi8vYXBpLm9wZW5hcS5vcmcvdjEvbWVhc3VyZW1lbnRzP1wiXHJcbi8vIGNvbnN0IEFQSV9LRVkyID0gXCIma2V5PTAxYzNjODQ4ZTEzNjQ3ZWU5N2UxMDI4MDliYTk3YjQzXCI7XHJcbi8vIGNvbnN0IEFQSV9MSU5LMyA9IFwiaHR0cHM6Ly9hcGkub3BlbndlYXRoZXJtYXAub3JnL2RhdGEvMi41L3dlYXRoZXI/XCJcclxuXHJcbmNvbnN0IGdldENvb3JkaW5hdGVzID0gKCkgPT4ge1xyXG5cdGNvbnN0IGNpdHkgPSBpbnB1dC52YWx1ZSB8fCAnV3JvY8WCYXcnO1xyXG5cdHBtMjUucGFyZW50RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiYSgyMTMsIDIxMiwgMjEyLCAwLjIwNSknO1xyXG5cdHBtMTAucGFyZW50RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiYSgyMTMsIDIxMiwgMjEyLCAwLjIwNSknO1xyXG5cdGNvLnBhcmVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoMjEzLCAyMTIsIDIxMiwgMC4yMDUpJztcclxuXHRzbzIucGFyZW50RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiYSgyMTMsIDIxMiwgMjEyLCAwLjIwNSknO1xyXG5cclxuXHRmZXRjaChBUElfTElOSyArIGNpdHkgKyBBUElfS0VZKVxyXG5cdFx0LnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXHJcblx0XHQudGhlbihkYXRhID0+IHtcclxuXHRcdFx0Y29uc3QgbGF0ID0gYGxhdD0ke2RhdGFbMF0ubGF0fWA7XHJcblx0XHRcdGNvbnN0IGxvbiA9IGAmbG9uPSR7ZGF0YVswXS5sb259YDtcclxuXHRcdFx0Z2V0QWlyUG9sbHV0aW9uKGxhdCwgbG9uKTtcclxuXHRcdFx0Z2V0V2VhdGhlcihsYXQsIGxvbik7XHJcblx0XHR9KVxyXG5cdFx0LmNhdGNoKCgpID0+IHtcclxuXHRcdFx0Y2l0eWVycm9yLnRleHRDb250ZW50ID0gXCJXcGlzeiBwb3ByYXduxIUgbmF6d8SZIG1pYXN0YSFcIjtcclxuXHRcdFx0aW5wdXQudmFsdWUgPSBcIlwiO1xyXG5cdFx0XHRpbnB1dC5zZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJywgJ1BvZGFqIG5henfEmSBtaWFzdGEnKTtcclxuXHRcdH0pO1xyXG59O1xyXG5cclxuY29uc3QgZ2V0QWlyUG9sbHV0aW9uID0gKGxhdCwgbG9uKSA9PiB7XHJcblx0XHJcblx0Y29uc3QgQVBJX0xJTksyID0gJ2h0dHA6Ly9hcGkub3BlbndlYXRoZXJtYXAub3JnL2RhdGEvMi41L2Fpcl9wb2xsdXRpb24/JztcclxuXHRmZXRjaChBUElfTElOSzIgKyBsYXQgKyBsb24gKyBBUElfS0VZKVxyXG5cdFx0LnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXHJcblx0XHQudGhlbihkYXRhID0+IHtcclxuXHRcdFxyXG5cdFx0XHRwbTEwLnRleHRDb250ZW50ID0gZGF0YS5saXN0WzBdLmNvbXBvbmVudHMucG0xMC50b0ZpeGVkKDEpICsgJyB1cS9tMyc7XHJcblx0XHRcdHBtMjUudGV4dENvbnRlbnQgPSBkYXRhLmxpc3RbMF0uY29tcG9uZW50cy5wbTJfNS50b0ZpeGVkKDEpICsgJyB1cS9tMyc7XHJcblx0XHRcdGNvLnRleHRDb250ZW50ID0gZGF0YS5saXN0WzBdLmNvbXBvbmVudHMuY28udG9GaXhlZCgxKSArICcgdXEvbTMnO1xyXG5cdFx0XHRzbzIudGV4dENvbnRlbnQgPSBkYXRhLmxpc3RbMF0uY29tcG9uZW50cy5zbzIudG9GaXhlZCgxKSArICcgdXEvbTMnO1xyXG5cclxuXHRcdFx0XHJcblxyXG5cdFx0XHRpZiAoZGF0YS5saXN0WzBdLm1haW4uYXFpID09PSAxKSB7XHJcblx0XHRcdFx0cG9sbHV0aW9uV29yZC50ZXh0Q29udGVudCA9ICdEb2JyYSc7XHJcblx0XHRcdFx0cG9sbHV0aW9uV29yZC5zdHlsZS5jb2xvciA9ICdsaW1lJztcclxuXHRcdFx0XHRwb2xsdXRpb25JY29uLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2Rpc3QvaW1nL3NtaWxlLnBuZycpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKGRhdGEubGlzdFswXS5tYWluLmFxaSA9PT0gMikge1xyXG5cdFx0XHRcdHBvbGx1dGlvbldvcmQudGV4dENvbnRlbnQgPSAnxZpyZWRuaWEnO1xyXG5cdFx0XHRcdHBvbGx1dGlvbldvcmQuc3R5bGUuY29sb3IgPSAnb3JhbmdlJztcclxuXHRcdFx0XHRwb2xsdXRpb25JY29uLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2Rpc3QvaW1nL2NvbmZ1c2VkLnBuZycpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKGRhdGEubGlzdFswXS5tYWluLmFxaSA+PSAzKSB7XHJcblx0XHRcdFx0cG9sbHV0aW9uV29yZC50ZXh0Q29udGVudCA9ICdaxYJhJztcclxuXHRcdFx0XHRwb2xsdXRpb25Xb3JkLnN0eWxlLmNvbG9yID0gJ3JlZCc7XHJcblx0XHRcdFx0cG9sbHV0aW9uSWNvbi5zZXRBdHRyaWJ1dGUoJ3NyYycsICdkaXN0L2ltZy9tYXNrLnBuZycpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoZGF0YS5saXN0WzBdLmNvbXBvbmVudHMucG0yXzUgPj0gMTApIHtcclxuXHRcdFx0XHRwbTI1LnBhcmVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoMjA3LCAxOCwgNDksIDAuNjY0KSc7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGRhdGEubGlzdFswXS5jb21wb25lbnRzLnBtMTAgPj0gMjApIHtcclxuXHRcdFx0XHRwbTEwLnBhcmVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoMjA3LCAxOCwgNDksIDAuNjY0KSc7XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKGRhdGEubGlzdFswXS5jb21wb25lbnRzLmNvID49IDE1MDAwKSB7XHJcblx0XHRcdFx0Y28ucGFyZW50RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiYSgyMDcsIDE4LCA0OSwgMC42NjQpJztcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoZGF0YS5saXN0WzBdLmNvbXBvbmVudHMuc28yID49IDEyNSkge1xyXG5cdFx0XHRcdHNvMi5wYXJlbnRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2JhKDIwNywgMTgsIDQ5LCAwLjY2NCknO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxufTtcclxuXHJcbmNvbnN0IGdldFdlYXRoZXIgPSAobGF0LCBsb24pID0+IHtcclxuXHRjb25zdCBBUElfTElOSzMgPSAnaHR0cHM6Ly9hcGkub3BlbndlYXRoZXJtYXAub3JnL2RhdGEvMi41L3dlYXRoZXI/JztcclxuXHRmZXRjaChBUElfTElOSzMgKyBsYXQgKyBsb24gKyBBUElfS0VZKVxyXG5cdFx0LnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXHJcblx0XHQudGhlbihkYXRhID0+IHtcclxuXHRcdFx0aWYgKGlucHV0LnZhbHVlID09PSAnJykge1xyXG5cdFx0XHRcdGlucHV0LnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCAnTXVzaXN6IHBvZGHEhyBuYXp3xJkgbWlhc3RhJyk7XHJcblx0XHRcdFx0Y2l0eU5hbWUudGV4dENvbnRlbnQgPSBcIldST0PFgUFXXCJcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRjaXR5TmFtZS50ZXh0Q29udGVudCA9IGlucHV0LnZhbHVlLnRvVXBwZXJDYXNlKCk7XHJcblx0XHRcdFx0aW5wdXQuc2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicsICdQb2RhaiBuYXp3xJkgbWlhc3RhJyk7XHJcblx0XHRcdFx0aW5wdXQudmFsdWUgPSBcIlwiXHJcblx0XHRcdGNpdHllcnJvci50ZXh0Q29udGVudCA9IFwiXCI7XHJcblxyXG5cdFx0XHR9XHJcblx0XHRcdGNvbnN0IG1QZXJTID0gZGF0YS53aW5kLnNwZWVkO1xyXG5cdFx0XHRjb25zdCBrbVBlckggPSAobVBlclMgKiAzLjYpLnRvRml4ZWQoMSk7XHJcblx0XHRcdHRlbXAudGV4dENvbnRlbnQgPSBkYXRhLm1haW4udGVtcC50b0ZpeGVkKDEpICsgJyDihIMnO1xyXG5cdFx0XHRmZWVsLnRleHRDb250ZW50ID0gZGF0YS5tYWluLmZlZWxzX2xpa2UudG9GaXhlZCgxKSArICcg4oSDJztcclxuXHRcdFx0aHVtLnRleHRDb250ZW50ID0gZGF0YS5tYWluLmh1bWlkaXR5ICsgJyAlJztcclxuXHRcdFx0d2luZC50ZXh0Q29udGVudCA9IGttUGVySCArICcga20vaCc7XHJcblx0XHRcdGlmIChkYXRhLndlYXRoZXJbMF0uaWQgPCAyMzMpIHtcclxuXHRcdFx0XHR3ZWF0aGVySWNvbi5zZXRBdHRyaWJ1dGUoJ3NyYycsICdkaXN0L2ltZy90aHVuZGVyc3Rvcm0ucG5nJyk7XHJcblx0XHRcdFx0d2VhdGhlcldvcmQudGV4dENvbnRlbnQgPSAnQnVyemEnO1xyXG5cdFx0XHR9IGVsc2UgaWYgKGRhdGEud2VhdGhlclswXS5pZCA+IDI5OSAmJiBkYXRhLndlYXRoZXJbMF0uaWQgPCA1MDApIHtcclxuXHRcdFx0XHR3ZWF0aGVySWNvbi5zZXRBdHRyaWJ1dGUoJ3NyYycsICdkaXN0L2ltZy9kcml6emxlLnBuZycpO1xyXG5cdFx0XHRcdHdlYXRoZXJXb3JkLnRleHRDb250ZW50ID0gJ03FvGF3a2EnO1xyXG5cdFx0XHR9IGVsc2UgaWYgKGRhdGEud2VhdGhlclswXS5pZCA+PSA1MDAgJiYgZGF0YS53ZWF0aGVyWzBdLmlkIDwgNjAwKSB7XHJcblx0XHRcdFx0d2VhdGhlckljb24uc2V0QXR0cmlidXRlKCdzcmMnLCAnZGlzdC9pbWcvcmFpbi5wbmcnKTtcclxuXHRcdFx0XHR3ZWF0aGVyV29yZC50ZXh0Q29udGVudCA9ICdEZXN6Y3pvd28nO1xyXG5cdFx0XHR9IGVsc2UgaWYgKGRhdGEud2VhdGhlclswXS5pZCA+PSA2MDAgJiYgZGF0YS53ZWF0aGVyWzBdLmlkIDwgNzAxKSB7XHJcblx0XHRcdFx0d2VhdGhlckljb24uc2V0QXR0cmlidXRlKCdzcmMnLCAnZGlzdC9pbWcvaWNlLnBuZycpO1xyXG5cdFx0XHRcdHdlYXRoZXJXb3JkLnRleHRDb250ZW50ID0gJ8WabmllZyc7XHJcblx0XHRcdH0gZWxzZSBpZiAoZGF0YS53ZWF0aGVyWzBdLmlkID49IDcwMSAmJiBkYXRhLndlYXRoZXJbMF0uaWQgPCA4MDApIHtcclxuXHRcdFx0XHR3ZWF0aGVySWNvbi5zZXRBdHRyaWJ1dGUoJ3NyYycsICdkaXN0L2ltZy9mb2cucG5nJyk7XHJcblx0XHRcdFx0d2VhdGhlcldvcmQudGV4dENvbnRlbnQgPSAnTWdsacWbbmllJztcclxuXHRcdFx0fSBlbHNlIGlmICgoZGF0YS53ZWF0aGVyWzBdLmlkID0gODAwKSkge1xyXG5cdFx0XHRcdHdlYXRoZXJJY29uLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2Rpc3QvaW1nL3N1bi5wbmcnKTtcclxuXHRcdFx0XHR3ZWF0aGVyV29yZC50ZXh0Q29udGVudCA9ICdTxYJvbmVjem5pZSc7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0d2VhdGhlckljb24uc2V0QXR0cmlidXRlKCdzcmMnLCAnZGlzdC9pbWcvY2xvdWQucG5nJyk7XHJcblx0XHRcdFx0d2VhdGhlcldvcmQudGV4dENvbnRlbnQgPSAnUG9jaG11cm5vJztcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcbn07XHJcblxyXG5jb25zdCBwcmVzc0VudGVyID0gZSA9PiB7XHJcblx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdGlmIChlLmtleUNvZGUgPT09IDEzKSB7XHJcblx0XHRnZXRDb29yZGluYXRlcygpO1xyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IHNob3dJbmZvID0gKCkgPT4ge1xyXG5cdHBtMTBJbmZvLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcblx0Y29uc29sZS5sb2coJ29rJyk7XHJcbn1cclxuXHJcbmNvbnN0IGNsb3NlSW5mbyA9ICgpID0+IHtcclxuXHRwbTEwSW5mby5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcblx0Y29uc29sZS5sb2coJ29rJyk7XHJcbn1cclxuXHJcblxyXG5pbmZvSWNvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgc2hvd0luZm8pO1xyXG5pbmZvSWNvbi5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgY2xvc2VJbmZvKTtcclxub2tCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBnZXRDb29yZGluYXRlcyk7XHJcbmlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgcHJlc3NFbnRlcik7XHJcbiJdfQ==
