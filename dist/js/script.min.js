"use strict";for(var okBtn=document.querySelector(".ok"),input=document.querySelector("input"),pm10Info=document.querySelector(".category-box__info-pm10"),pm25Info=document.querySelector(".category-box__info-pm25"),coInfo=document.querySelector(".category-box__info-co"),so2Info=document.querySelector(".category-box__info-so2"),infoIcons=document.querySelectorAll(".info"),infoCards=document.querySelectorAll(".category-box__info"),info1=document.querySelector("#one"),info2=document.querySelector("#two"),info3=document.querySelector("#three"),info4=document.querySelector("#four"),pollutionIcon=document.querySelector(".air-weather__img"),pollutionWord=document.querySelector("#air-quality"),pm10=document.querySelector("#pm10"),pm25=document.querySelector("#pm25"),co=document.querySelector("#co"),so2=document.querySelector("#so2"),weatherIcon=document.querySelector(".weather-type__img"),weatherWord=document.querySelector(".weather-type__title"),temp=document.querySelector("#temp"),feel=document.querySelector("#feel"),hum=document.querySelector("#hum"),wind=document.querySelector("#wind"),cityName=document.querySelector(".adress__city"),cityerror=document.querySelector(".city-error"),API_LINK="http://api.openweathermap.org/geo/1.0/direct?q=",API_KEY="&appid=b005763a5f5701376b641f6d866e7e64&units=metric",getCoordinates=function(){var t=input.value||"Wrocław";pm25.parentElement.style.backgroundColor="rgba(213, 212, 212, 0.205)",pm10.parentElement.style.backgroundColor="rgba(213, 212, 212, 0.205)",co.parentElement.style.backgroundColor="rgba(213, 212, 212, 0.205)",so2.parentElement.style.backgroundColor="rgba(213, 212, 212, 0.205)",fetch(API_LINK+t+API_KEY).then(function(t){return t.json()}).then(function(t){var e="lat=".concat(t[0].lat),t="&lon=".concat(t[0].lon);getAirPollution(e,t),getWeather(e,t)}).catch(function(){cityerror.textContent="Wpisz poprawną nazwę miasta!",input.value="",input.setAttribute("placeholder","Podaj nazwę miasta")})},getAirPollution=function(t,e){fetch("http://api.openweathermap.org/data/2.5/air_pollution?"+t+e+API_KEY).then(function(t){return t.json()}).then(function(t){pm10.textContent=t.list[0].components.pm10.toFixed(1)+" uq/m3",pm25.textContent=t.list[0].components.pm2_5.toFixed(1)+" uq/m3",co.textContent=t.list[0].components.co.toFixed(1)+" uq/m3",so2.textContent=t.list[0].components.so2.toFixed(1)+" uq/m3",1===t.list[0].main.aqi?(pollutionWord.textContent="Dobra",pollutionWord.style.color="lime",pollutionIcon.setAttribute("src","dist/img/smile.png")):2===t.list[0].main.aqi?(pollutionWord.textContent="Średnia",pollutionWord.style.color="orange",pollutionIcon.setAttribute("src","dist/img/confused.png")):3<=t.list[0].main.aqi&&(pollutionWord.textContent="Zła",pollutionWord.style.color="red",pollutionIcon.setAttribute("src","dist/img/mask.png")),10<=t.list[0].components.pm2_5&&(pm25.parentElement.style.backgroundColor="rgba(207, 18, 49, 0.664)"),20<=t.list[0].components.pm10&&(pm10.parentElement.style.backgroundColor="rgba(207, 18, 49, 0.664)"),15e3<=t.list[0].components.co&&(co.parentElement.style.backgroundColor="rgba(207, 18, 49, 0.664)"),125<=t.list[0].components.so2&&(so2.parentElement.style.backgroundColor="rgba(207, 18, 49, 0.664)")})},getWeather=function(t,e){fetch("https://api.openweathermap.org/data/2.5/weather?"+t+e+API_KEY).then(function(t){return t.json()}).then(function(t){""===input.value?(input.setAttribute("placeholder","Musisz podać nazwę miasta"),cityName.textContent="WROCŁAW"):(cityName.textContent=input.value.toUpperCase(),input.setAttribute("placeholder","Podaj nazwę miasta"),input.value="",cityerror.textContent="");var e=(3.6*t.wind.speed).toFixed(1);temp.textContent=t.main.temp.toFixed(1)+" ℃",feel.textContent=t.main.feels_like.toFixed(1)+" ℃",hum.textContent=t.main.humidity+" %",wind.textContent=e+" km/h",t.weather[0].id<233?(weatherIcon.setAttribute("src","dist/img/thunderstorm.png"),weatherWord.textContent="Burza"):299<t.weather[0].id&&t.weather[0].id<500?(weatherIcon.setAttribute("src","dist/img/drizzle.png"),weatherWord.textContent="Mżawka"):500<=t.weather[0].id&&t.weather[0].id<600?(weatherIcon.setAttribute("src","dist/img/rain.png"),weatherWord.textContent="Deszczowo"):600<=t.weather[0].id&&t.weather[0].id<701?(weatherIcon.setAttribute("src","dist/img/ice.png"),weatherWord.textContent="Śnieg"):701<=t.weather[0].id&&t.weather[0].id<800?(weatherIcon.setAttribute("src","dist/img/fog.png"),weatherWord.textContent="Mgliśnie"):(t.weather[0].id=800,weatherIcon.setAttribute("src","dist/img/sun.png"),weatherWord.textContent="Słonecznie")})},pressEnter=function(t){t.preventDefault(),13===t.keyCode&&getCoordinates()},_loop=function(t){infoIcons[t].addEventListener("click",function(){infoCards[t].style.display="block"})},i=0;i<infoIcons.length;i++)_loop(i);var closeInfo=function(){pm10Info.style.display="none"};okBtn.addEventListener("click",getCoordinates),input.addEventListener("keyup",pressEnter);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJva0J0biIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImlucHV0IiwicG0xMEluZm8iLCJwbTI1SW5mbyIsImNvSW5mbyIsInNvMkluZm8iLCJpbmZvSWNvbnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5mbzEiLCJpbmZvMiIsImluZm8zIiwiaW5mbzQiLCJwb2xsdXRpb25JY29uIiwicG9sbHV0aW9uV29yZCIsInBtMjUiLCJzbzIiLCJ3ZWF0aGVyV29yZCIsInRlbXAiLCJodW0iLCJ3aW5kIiwiY2l0eU5hbWUiLCJjaXR5ZXJyb3IiLCJBUElfS0VZIiwiQVBJX0xJTksiLCJwYXJlbnRFbGVtZW50Iiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJmZXRjaCIsImNpdHkiLCJwbTEwIiwiY28iLCJnZXRBaXJQb2xsdXRpb24iLCJsb24iLCJ0aGVuIiwiZ2V0V2VhdGhlciIsImxhdCIsImpzb24iLCJkYXRhIiwidGV4dENvbnRlbnQiLCJ2YWx1ZSIsInNldEF0dHJpYnV0ZSIsIkFQSV9MSU5LMiIsImNvbXBvbmVudHMiLCJ0b0ZpeGVkIiwibGlzdCIsImFxaSIsInBtMl81IiwiY29sb3IiLCJtYWluIiwiQVBJX0xJTkszIiwicmVzIiwibVBlclMiLCJrbVBlckgiLCJmZWVsIiwidG9VcHBlckNhc2UiLCJ3ZWF0aGVySWNvbiIsIndlYXRoZXIiLCJpZCIsImZlZWxzX2xpa2UiLCJodW1pZGl0eSIsInByZXNzRW50ZXIiLCJwcmV2ZW50RGVmYXVsdCIsImdldENvb3JkaW5hdGVzIiwiZSIsImtleUNvZGUiLCJfbG9vcCIsImkiLCJhZGRFdmVudExpc3RlbmVyIiwiaW5mb0NhcmRzIiwiZGlzcGxheSIsImxlbmd0aCIsImNsb3NlSW5mbyJdLCJtYXBwaW5ncyI6ImFBaUtBLElBaktBLElBQU1BLE1BQVFDLFNBQVNDLGNBQWMsS0FBSyxFQUNwQ0MsTUFBUUYsU0FBU0MsY0FBYyxPQUFPLEVBQXRDQyxTQUFRRixTQUFT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LFFBQUEsT0FiQyxDQUFDLENBZUZ2RSxFQWxCU29FLEVBQUksRUFBR0EsRUFBSTVELFVBQVVnRSxPQUFRSixDQUFDLEdBQUVELE1BQUFDLENBQUEsRUFXekMsSUFBTUssVUFBWSxXQUNqQnJFLFNBQVN1QixNQUFNNEMsUUFBVSxNQUMxQixFQUtBdkUsTUFBTXFFLGlCQUFpQixRQUFTTCxjQUFjLEVBQzlDN0QsTUFBTWtFLGlCQUFpQixRQUFTUCxVQUFVIiwiZmlsZSI6InNjcmlwdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBva0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5vaycpO1xyXG5jb25zdCBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7XHJcblxyXG5jb25zdCBwbTEwSW5mbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXRlZ29yeS1ib3hfX2luZm8tcG0xMCcpO1xyXG5jb25zdCBwbTI1SW5mbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXRlZ29yeS1ib3hfX2luZm8tcG0yNScpO1xyXG5jb25zdCBjb0luZm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2F0ZWdvcnktYm94X19pbmZvLWNvJyk7XHJcbmNvbnN0IHNvMkluZm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2F0ZWdvcnktYm94X19pbmZvLXNvMicpO1xyXG5jb25zdCBpbmZvSWNvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaW5mbycpO1xyXG5jb25zdCBpbmZvQ2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2F0ZWdvcnktYm94X19pbmZvJyk7XHJcblxyXG5jb25zdCBpbmZvMSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNvbmUnKTtcclxuY29uc3QgaW5mbzIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdHdvJyk7XHJcbmNvbnN0IGluZm8zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RocmVlJyk7XHJcbmNvbnN0IGluZm80ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZvdXInKTtcclxuXHJcbi8vIFBvbGx1dGlvbj09PT09PT09PVxyXG5jb25zdCBwb2xsdXRpb25JY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFpci13ZWF0aGVyX19pbWcnKTtcclxuY29uc3QgcG9sbHV0aW9uV29yZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhaXItcXVhbGl0eScpO1xyXG5cclxuY29uc3QgcG0xMCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwbTEwJyk7XHJcbmNvbnN0IHBtMjUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcG0yNScpO1xyXG5jb25zdCBjbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjbycpO1xyXG5jb25zdCBzbzIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc28yJyk7XHJcblxyXG4vL1dlYXRoZXI9PT09PT09PT09PT09PVxyXG5jb25zdCB3ZWF0aGVySWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53ZWF0aGVyLXR5cGVfX2ltZycpO1xyXG5jb25zdCB3ZWF0aGVyV29yZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53ZWF0aGVyLXR5cGVfX3RpdGxlJyk7XHJcblxyXG5jb25zdCB0ZW1wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RlbXAnKTtcclxuY29uc3QgZmVlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmZWVsJyk7XHJcbmNvbnN0IGh1bSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNodW0nKTtcclxuY29uc3Qgd2luZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN3aW5kJyk7XHJcblxyXG5jb25zdCBjaXR5TmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZHJlc3NfX2NpdHknKTtcclxuY29uc3QgY2l0eWVycm9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNpdHktZXJyb3InKTtcclxuXHJcbmNvbnN0IEFQSV9MSU5LID0gJ2h0dHA6Ly9hcGkub3BlbndlYXRoZXJtYXAub3JnL2dlby8xLjAvZGlyZWN0P3E9JztcclxuY29uc3QgQVBJX0tFWSA9ICcmYXBwaWQ9YjAwNTc2M2E1ZjU3MDEzNzZiNjQxZjZkODY2ZTdlNjQmdW5pdHM9bWV0cmljJztcclxuXHJcbi8vIGNvbnN0IEFQSV9MSU5LID0gXCJodHRwczovL2FwaS5vcGVuYXEub3JnL3YxL21lYXN1cmVtZW50cz9cIlxyXG4vLyBjb25zdCBBUElfS0VZMiA9IFwiJmtleT0wMWMzYzg0OGUxMzY0N2VlOTdlMTAyODA5YmE5N2I0M1wiO1xyXG4vLyBjb25zdCBBUElfTElOSzMgPSBcImh0dHBzOi8vYXBpLm9wZW53ZWF0aGVybWFwLm9yZy9kYXRhLzIuNS93ZWF0aGVyP1wiXHJcblxyXG5jb25zdCBnZXRDb29yZGluYXRlcyA9ICgpID0+IHtcclxuXHRjb25zdCBjaXR5ID0gaW5wdXQudmFsdWUgfHwgJ1dyb2PFgmF3JztcclxuXHRwbTI1LnBhcmVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoMjEzLCAyMTIsIDIxMiwgMC4yMDUpJztcclxuXHRwbTEwLnBhcmVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoMjEzLCAyMTIsIDIxMiwgMC4yMDUpJztcclxuXHRjby5wYXJlbnRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2JhKDIxMywgMjEyLCAyMTIsIDAuMjA1KSc7XHJcblx0c28yLnBhcmVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoMjEzLCAyMTIsIDIxMiwgMC4yMDUpJztcclxuXHJcblx0ZmV0Y2goQVBJX0xJTksgKyBjaXR5ICsgQVBJX0tFWSlcclxuXHRcdC50aGVuKHJlcyA9PiByZXMuanNvbigpKVxyXG5cdFx0LnRoZW4oZGF0YSA9PiB7XHJcblx0XHRcdGNvbnN0IGxhdCA9IGBsYXQ9JHtkYXRhWzBdLmxhdH1gO1xyXG5cdFx0XHRjb25zdCBsb24gPSBgJmxvbj0ke2RhdGFbMF0ubG9ufWA7XHJcblx0XHRcdGdldEFpclBvbGx1dGlvbihsYXQsIGxvbik7XHJcblx0XHRcdGdldFdlYXRoZXIobGF0LCBsb24pO1xyXG5cdFx0fSlcclxuXHRcdC5jYXRjaCgoKSA9PiB7XHJcblx0XHRcdGNpdHllcnJvci50ZXh0Q29udGVudCA9ICdXcGlzeiBwb3ByYXduxIUgbmF6d8SZIG1pYXN0YSEnO1xyXG5cdFx0XHRpbnB1dC52YWx1ZSA9ICcnO1xyXG5cdFx0XHRpbnB1dC5zZXRBdHRyaWJ1dGUoJ3BsYWNlaG9sZGVyJywgJ1BvZGFqIG5henfEmSBtaWFzdGEnKTtcclxuXHRcdH0pO1xyXG59O1xyXG5cclxuY29uc3QgZ2V0QWlyUG9sbHV0aW9uID0gKGxhdCwgbG9uKSA9PiB7XHJcblx0Y29uc3QgQVBJX0xJTksyID0gJ2h0dHA6Ly9hcGkub3BlbndlYXRoZXJtYXAub3JnL2RhdGEvMi41L2Fpcl9wb2xsdXRpb24/JztcclxuXHRmZXRjaChBUElfTElOSzIgKyBsYXQgKyBsb24gKyBBUElfS0VZKVxyXG5cdFx0LnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXHJcblx0XHQudGhlbihkYXRhID0+IHtcclxuXHRcdFx0cG0xMC50ZXh0Q29udGVudCA9IGRhdGEubGlzdFswXS5jb21wb25lbnRzLnBtMTAudG9GaXhlZCgxKSArICcgdXEvbTMnO1xyXG5cdFx0XHRwbTI1LnRleHRDb250ZW50ID0gZGF0YS5saXN0WzBdLmNvbXBvbmVudHMucG0yXzUudG9GaXhlZCgxKSArICcgdXEvbTMnO1xyXG5cdFx0XHRjby50ZXh0Q29udGVudCA9IGRhdGEubGlzdFswXS5jb21wb25lbnRzLmNvLnRvRml4ZWQoMSkgKyAnIHVxL20zJztcclxuXHRcdFx0c28yLnRleHRDb250ZW50ID0gZGF0YS5saXN0WzBdLmNvbXBvbmVudHMuc28yLnRvRml4ZWQoMSkgKyAnIHVxL20zJztcclxuXHJcblx0XHRcdGlmIChkYXRhLmxpc3RbMF0ubWFpbi5hcWkgPT09IDEpIHtcclxuXHRcdFx0XHRwb2xsdXRpb25Xb3JkLnRleHRDb250ZW50ID0gJ0RvYnJhJztcclxuXHRcdFx0XHRwb2xsdXRpb25Xb3JkLnN0eWxlLmNvbG9yID0gJ2xpbWUnO1xyXG5cdFx0XHRcdHBvbGx1dGlvbkljb24uc2V0QXR0cmlidXRlKCdzcmMnLCAnZGlzdC9pbWcvc21pbGUucG5nJyk7XHJcblx0XHRcdH0gZWxzZSBpZiAoZGF0YS5saXN0WzBdLm1haW4uYXFpID09PSAyKSB7XHJcblx0XHRcdFx0cG9sbHV0aW9uV29yZC50ZXh0Q29udGVudCA9ICfFmnJlZG5pYSc7XHJcblx0XHRcdFx0cG9sbHV0aW9uV29yZC5zdHlsZS5jb2xvciA9ICdvcmFuZ2UnO1xyXG5cdFx0XHRcdHBvbGx1dGlvbkljb24uc2V0QXR0cmlidXRlKCdzcmMnLCAnZGlzdC9pbWcvY29uZnVzZWQucG5nJyk7XHJcblx0XHRcdH0gZWxzZSBpZiAoZGF0YS5saXN0WzBdLm1haW4uYXFpID49IDMpIHtcclxuXHRcdFx0XHRwb2xsdXRpb25Xb3JkLnRleHRDb250ZW50ID0gJ1rFgmEnO1xyXG5cdFx0XHRcdHBvbGx1dGlvbldvcmQuc3R5bGUuY29sb3IgPSAncmVkJztcclxuXHRcdFx0XHRwb2xsdXRpb25JY29uLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2Rpc3QvaW1nL21hc2sucG5nJyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChkYXRhLmxpc3RbMF0uY29tcG9uZW50cy5wbTJfNSA+PSAxMCkge1xyXG5cdFx0XHRcdHBtMjUucGFyZW50RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiYSgyMDcsIDE4LCA0OSwgMC42NjQpJztcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoZGF0YS5saXN0WzBdLmNvbXBvbmVudHMucG0xMCA+PSAyMCkge1xyXG5cdFx0XHRcdHBtMTAucGFyZW50RWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAncmdiYSgyMDcsIDE4LCA0OSwgMC42NjQpJztcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoZGF0YS5saXN0WzBdLmNvbXBvbmVudHMuY28gPj0gMTUwMDApIHtcclxuXHRcdFx0XHRjby5wYXJlbnRFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdyZ2JhKDIwNywgMTgsIDQ5LCAwLjY2NCknO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmIChkYXRhLmxpc3RbMF0uY29tcG9uZW50cy5zbzIgPj0gMTI1KSB7XHJcblx0XHRcdFx0c28yLnBhcmVudEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoMjA3LCAxOCwgNDksIDAuNjY0KSc7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG59O1xyXG5cclxuY29uc3QgZ2V0V2VhdGhlciA9IChsYXQsIGxvbikgPT4ge1xyXG5cdGNvbnN0IEFQSV9MSU5LMyA9ICdodHRwczovL2FwaS5vcGVud2VhdGhlcm1hcC5vcmcvZGF0YS8yLjUvd2VhdGhlcj8nO1xyXG5cdGZldGNoKEFQSV9MSU5LMyArIGxhdCArIGxvbiArIEFQSV9LRVkpXHJcblx0XHQudGhlbihyZXMgPT4gcmVzLmpzb24oKSlcclxuXHRcdC50aGVuKGRhdGEgPT4ge1xyXG5cdFx0XHRpZiAoaW5wdXQudmFsdWUgPT09ICcnKSB7XHJcblx0XHRcdFx0aW5wdXQuc2V0QXR0cmlidXRlKCdwbGFjZWhvbGRlcicsICdNdXNpc3ogcG9kYcSHIG5henfEmSBtaWFzdGEnKTtcclxuXHRcdFx0XHRjaXR5TmFtZS50ZXh0Q29udGVudCA9ICdXUk9DxYFBVyc7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0Y2l0eU5hbWUudGV4dENvbnRlbnQgPSBpbnB1dC52YWx1ZS50b1VwcGVyQ2FzZSgpO1xyXG5cdFx0XHRcdGlucHV0LnNldEF0dHJpYnV0ZSgncGxhY2Vob2xkZXInLCAnUG9kYWogbmF6d8SZIG1pYXN0YScpO1xyXG5cdFx0XHRcdGlucHV0LnZhbHVlID0gJyc7XHJcblx0XHRcdFx0Y2l0eWVycm9yLnRleHRDb250ZW50ID0gJyc7XHJcblx0XHRcdH1cclxuXHRcdFx0Y29uc3QgbVBlclMgPSBkYXRhLndpbmQuc3BlZWQ7XHJcblx0XHRcdGNvbnN0IGttUGVySCA9IChtUGVyUyAqIDMuNikudG9GaXhlZCgxKTtcclxuXHRcdFx0dGVtcC50ZXh0Q29udGVudCA9IGRhdGEubWFpbi50ZW1wLnRvRml4ZWQoMSkgKyAnIOKEgyc7XHJcblx0XHRcdGZlZWwudGV4dENvbnRlbnQgPSBkYXRhLm1haW4uZmVlbHNfbGlrZS50b0ZpeGVkKDEpICsgJyDihIMnO1xyXG5cdFx0XHRodW0udGV4dENvbnRlbnQgPSBkYXRhLm1haW4uaHVtaWRpdHkgKyAnICUnO1xyXG5cdFx0XHR3aW5kLnRleHRDb250ZW50ID0ga21QZXJIICsgJyBrbS9oJztcclxuXHRcdFx0aWYgKGRhdGEud2VhdGhlclswXS5pZCA8IDIzMykge1xyXG5cdFx0XHRcdHdlYXRoZXJJY29uLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2Rpc3QvaW1nL3RodW5kZXJzdG9ybS5wbmcnKTtcclxuXHRcdFx0XHR3ZWF0aGVyV29yZC50ZXh0Q29udGVudCA9ICdCdXJ6YSc7XHJcblx0XHRcdH0gZWxzZSBpZiAoZGF0YS53ZWF0aGVyWzBdLmlkID4gMjk5ICYmIGRhdGEud2VhdGhlclswXS5pZCA8IDUwMCkge1xyXG5cdFx0XHRcdHdlYXRoZXJJY29uLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2Rpc3QvaW1nL2RyaXp6bGUucG5nJyk7XHJcblx0XHRcdFx0d2VhdGhlcldvcmQudGV4dENvbnRlbnQgPSAnTcW8YXdrYSc7XHJcblx0XHRcdH0gZWxzZSBpZiAoZGF0YS53ZWF0aGVyWzBdLmlkID49IDUwMCAmJiBkYXRhLndlYXRoZXJbMF0uaWQgPCA2MDApIHtcclxuXHRcdFx0XHR3ZWF0aGVySWNvbi5zZXRBdHRyaWJ1dGUoJ3NyYycsICdkaXN0L2ltZy9yYWluLnBuZycpO1xyXG5cdFx0XHRcdHdlYXRoZXJXb3JkLnRleHRDb250ZW50ID0gJ0Rlc3pjem93byc7XHJcblx0XHRcdH0gZWxzZSBpZiAoZGF0YS53ZWF0aGVyWzBdLmlkID49IDYwMCAmJiBkYXRhLndlYXRoZXJbMF0uaWQgPCA3MDEpIHtcclxuXHRcdFx0XHR3ZWF0aGVySWNvbi5zZXRBdHRyaWJ1dGUoJ3NyYycsICdkaXN0L2ltZy9pY2UucG5nJyk7XHJcblx0XHRcdFx0d2VhdGhlcldvcmQudGV4dENvbnRlbnQgPSAnxZpuaWVnJztcclxuXHRcdFx0fSBlbHNlIGlmIChkYXRhLndlYXRoZXJbMF0uaWQgPj0gNzAxICYmIGRhdGEud2VhdGhlclswXS5pZCA8IDgwMCkge1xyXG5cdFx0XHRcdHdlYXRoZXJJY29uLnNldEF0dHJpYnV0ZSgnc3JjJywgJ2Rpc3QvaW1nL2ZvZy5wbmcnKTtcclxuXHRcdFx0XHR3ZWF0aGVyV29yZC50ZXh0Q29udGVudCA9ICdNZ2xpxZtuaWUnO1xyXG5cdFx0XHR9IGVsc2UgaWYgKChkYXRhLndlYXRoZXJbMF0uaWQgPSA4MDApKSB7XHJcblx0XHRcdFx0d2VhdGhlckljb24uc2V0QXR0cmlidXRlKCdzcmMnLCAnZGlzdC9pbWcvc3VuLnBuZycpO1xyXG5cdFx0XHRcdHdlYXRoZXJXb3JkLnRleHRDb250ZW50ID0gJ1PFgm9uZWN6bmllJztcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR3ZWF0aGVySWNvbi5zZXRBdHRyaWJ1dGUoJ3NyYycsICdkaXN0L2ltZy9jbG91ZC5wbmcnKTtcclxuXHRcdFx0XHR3ZWF0aGVyV29yZC50ZXh0Q29udGVudCA9ICdQb2NobXVybm8nO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxufTtcclxuXHJcbmNvbnN0IHByZXNzRW50ZXIgPSBlID0+IHtcclxuXHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0aWYgKGUua2V5Q29kZSA9PT0gMTMpIHtcclxuXHRcdGdldENvb3JkaW5hdGVzKCk7XHJcblx0fVxyXG59O1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5mb3IgKGxldCBpID0gMDsgaSA8IGluZm9JY29ucy5sZW5ndGg7IGkrKykge1xyXG5cdGluZm9JY29uc1tpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuXHRcdGluZm9DYXJkc1tpXS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG5cdH0pO1xyXG59XHJcblxyXG4vLyBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbi8vIFx0Y29uc3QgZWxlbWVudCA9IGFycmF5W2ldO1xyXG5cdFxyXG4vLyB9XHJcblxyXG5jb25zdCBjbG9zZUluZm8gPSAoKSA9PiB7XHJcblx0cG0xMEluZm8uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxufTtcclxuXHJcbi8vIGluZm9JY29ucy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgc2hvd0luZm8pO1xyXG4vLyBpbmZvSWNvbnNbMF0uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGNsb3NlSW5mbyk7XHJcblxyXG5va0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGdldENvb3JkaW5hdGVzKTtcclxuaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBwcmVzc0VudGVyKTtcclxuIl19
