"use strict";var okBtn=document.querySelector(".ok"),input=document.querySelector("input"),pollutionIcon=document.querySelector(".air-weather__img"),pollutionWord=document.querySelector("#air-quality"),pm10=document.querySelector("#pm10"),pm25=document.querySelector("#pm25"),co=document.querySelector("#co"),so2=document.querySelector("#so2"),weatherIcon=document.querySelector(".weather-type__img"),weatherWord=document.querySelector(".weather-type__title"),temp=document.querySelector("#temp"),feel=document.querySelector("#feel"),hum=document.querySelector("#hum"),wind=document.querySelector("#wind"),city=document.querySelector(".adress__city"),API_LINK="http://api.openweathermap.org/geo/1.0/direct?q=",API_KEY="&appid=b005763a5f5701376b641f6d866e7e64&units=metric",getCoordinates=function(){var t=input.value||"Wrocław";fetch(API_LINK+t+API_KEY).then(function(t){return t.json()}).then(function(t){t[0];var e="lat=".concat(t[0].lat),t="&lon=".concat(t[0].lon);getAirPollution(e,t),getWeather(e,t)}).catch(function(t){return console.log("error",t)})},getAirPollution=function(t,e){fetch("http://api.openweathermap.org/data/2.5/air_pollution?"+t+e+API_KEY).then(function(t){return t.json()}).then(function(t){var e=document.createElement("img");e.classList.add("adress__icon"),e.setAttribute("src","dist/img/icon_map.svg"),e.setAttribute("alt","location icon"),city.append(e,input.value),1===t.list[0].main.aqi?(pollutionWord.textContent="Dobra",pollutionWord.style.color="lime",pollutionIcon.setAttribute("src","dist/img/smile.png")):2===t.list[0].main.aqi?(pollutionWord.textContent="Średnia",pollutionWord.style.color="orange",pollutionIcon.setAttribute("src","dist/img/confused.png")):3<=t.list[0].main.aqi&&(pollutionWord.textContent="Zła",pollutionWord.style.color="red",pollutionIcon.setAttribute("src","dist/img/mask.png"))})},getWeather=function(t,e){fetch("https://api.openweathermap.org/data/2.5/weather?"+t+e+API_KEY).then(function(t){return t.json()}).then(function(t){console.log(t.weather[0]),t.weather[0].id<233?(weatherIcon.setAttribute("src","dist/img/thunderstorm.png"),weatherWord.textContent="Burza"):299<t.weather[0].id&&t.weather[0].id<500?(weatherIcon.setAttribute("src","dist/img/drizzle.png"),weatherWord.textContent="Mżawka"):500<=t.weather[0].id&&t.weather[0].id<600?(weatherIcon.setAttribute("src","dist/img/rain.png"),weatherWord.textContent="Deszczowo"):600<=t.weather[0].id&&t.weather[0].id<701?(weatherIcon.setAttribute("src","dist/img/ice.png"),weatherWord.textContent="Śnieg"):701<=t.weather[0].id&&t.weather[0].id<800?(weatherIcon.setAttribute("src","dist/img/fog.png"),weatherWord.textContent="Mgliśnie"):(t.weather[0].id=800,weatherIcon.setAttribute("src","dist/img/sun.png"),weatherWord.textContent="Słonecznie")})};okBtn.addEventListener("click",getCoordinates,getWeather);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJva0J0biIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImlucHV0IiwicG9sbHV0aW9uSWNvbiIsInBvbGx1dGlvbldvcmQiLCJwbTEwIiwicG0yNSIsInNvMiIsIndlYXRoZXJJY29uIiwidGVtcCIsImZlZWwiLCJodW0iLCJ3aW5kIiwiQVBJX0xJTksiLCJBUElfS0VZIiwiZmV0Y2giLCJjaXR5IiwiZGF0YSIsInRoZW4iLCJnZXRBaXJQb2xsdXRpb24iLCJqc29uIiwibG9uIiwiZ2V0V2VhdGhlciIsImxhdCIsImNvbnNvbGUiLCJlcnIiLCJjb25jYXQiLCJBUElfTElOSzIiLCJsb2ciLCJjbGFzc0xpc3QiLCJzZXRBdHRyaWJ1dGUiLCJsb2NhdGlvbkljb24iLCJjcmVhdGVFbGVtZW50IiwiYWRkIiwibGlzdCIsInRleHRDb250ZW50IiwiY29sb3IiLCJ2YWx1ZSIsInN0eWxlIiwiYXFpIiwibWFpbiIsIndlYXRoZXIiLCJyZXMiLCJ3ZWF0aGVyV29yZCIsImlkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImdldENvb3JkaW5hdGVzIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUFNQSxNQUFRQyxTQUFTQyxjQUFjLEtBQUssRUFDcENDLE1BQVFGLFNBQVNDLGNBQWMsT0FBTyxFQUd0Q0UsY0FBZ0JILFNBQVNDLGNBQWMsbUJBQW1CLEVBRGhFRyxjQUFBSixTQUFBQyxjQUFBLGNBQUEsRUFFTUcsS0FBQUEsU0FBZ0JKLGNBQVNDLE9BQWMsRUFFdkNJLEtBQU9MLFNBQVNDLGNBQWMsT0FBUSxFQUN0Q0ssR0FBT04sU0FBU0MsY0FBYyxLQUFBLEVBQzVCTSxJQUFHUCxTQUFTQyxjQUFjLE1BQU0sRUFHeENPLFlBQUFSLFNBQUFDLGNBQUEsb0JBQUEsRUFDTU8sWUFBY1IsU0FBU0MsY0FBYyxzQkFBcUIsRUFHMURRLEtBQU9ULFNBQVNDLGNBQWMsT0FBUSxFQUN0Q1MsS0FBT1YsU0FBU0MsY0FBYyxPQUFRLEVBQ3RDVSxJQUFN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QSxNQUFBLGtCQUFBLEVBQ0ZhLFlBQUFSLFlBQUEsYUFDTGxCLEVBQUF3QixRQUFBLEdBQUFHLEdBQUEsSUFFS0MsWUFBaUJmLGFBQVNnQixNQUFBQSxrQkFBMkIsRUFSL0NILFlBQVlSLFlBQWMsYUFLbEMsQ0FBQyxDQUNMLEVBRUFwQyxNQUFNOEMsaUJBQWlCLFFBQVNDLGVBQWdCeEIsVUFBVSIsImZpbGUiOiJzY3JpcHQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgb2tCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub2snKTtcclxuY29uc3QgaW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpO1xyXG5cclxuLy8gUG9sbHV0aW9uPT09PT09PT09XHJcbmNvbnN0IHBvbGx1dGlvbkljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWlyLXdlYXRoZXJfX2ltZycpO1xyXG5jb25zdCBwb2xsdXRpb25Xb3JkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Fpci1xdWFsaXR5Jyk7XHJcblxyXG5jb25zdCBwbTEwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BtMTAnKTtcclxuY29uc3QgcG0yNSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwbTI1Jyk7XHJcbmNvbnN0IGNvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2NvJyk7XHJcbmNvbnN0IHNvMiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzbzInKTtcclxuXHJcbi8vV2VhdGhlcj09PT09PT09PT09PT09XHJcbmNvbnN0IHdlYXRoZXJJY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndlYXRoZXItdHlwZV9faW1nJyk7XHJcbmNvbnN0IHdlYXRoZXJXb3JkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndlYXRoZXItdHlwZV9fdGl0bGUnKTtcclxuXHJcbmNvbnN0IHRlbXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdGVtcCcpO1xyXG5jb25zdCBmZWVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZlZWwnKTtcclxuY29uc3QgaHVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2h1bScpO1xyXG5jb25zdCB3aW5kID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3dpbmQnKTtcclxuXHJcbmNvbnN0IGNpdHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWRyZXNzX19jaXR5Jyk7XHJcblxyXG5jb25zdCBBUElfTElOSyA9ICdodHRwOi8vYXBpLm9wZW53ZWF0aGVybWFwLm9yZy9nZW8vMS4wL2RpcmVjdD9xPSc7XHJcbmNvbnN0IEFQSV9LRVkgPSAnJmFwcGlkPWIwMDU3NjNhNWY1NzAxMzc2YjY0MWY2ZDg2NmU3ZTY0JnVuaXRzPW1ldHJpYyc7XHJcblxyXG4vLyBjb25zdCBBUElfTElOSyA9IFwiaHR0cHM6Ly9hcGkub3BlbmFxLm9yZy92MS9tZWFzdXJlbWVudHM/XCJcclxuLy8gY29uc3QgQVBJX0tFWTIgPSBcIiZrZXk9MDFjM2M4NDhlMTM2NDdlZTk3ZTEwMjgwOWJhOTdiNDNcIjtcclxuLy8gY29uc3QgQVBJX0xJTkszID0gXCJodHRwczovL2FwaS5vcGVud2VhdGhlcm1hcC5vcmcvZGF0YS8yLjUvd2VhdGhlcj9cIlxyXG5cclxuY29uc3QgZ2V0Q29vcmRpbmF0ZXMgPSAoKSA9PiB7XHJcbiAgICBcclxuICAgIGNvbnN0IGNpdHkgPSBpbnB1dC52YWx1ZSB8fCAnV3JvY8WCYXcnO1xyXG4gIFxyXG5cclxuXHRmZXRjaChBUElfTElOSyArIGNpdHkgKyBBUElfS0VZKVxyXG5cdFx0LnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXHJcblx0XHQudGhlbihkYXRhID0+IHtcclxuXHRcdFx0ZGF0YVswXTtcclxuXHRcdFx0Y29uc3QgbGF0ID0gYGxhdD0ke2RhdGFbMF0ubGF0fWA7XHJcblx0XHRcdGNvbnN0IGxvbiA9IGAmbG9uPSR7ZGF0YVswXS5sb259YDtcclxuXHRcdFx0Z2V0QWlyUG9sbHV0aW9uKGxhdCwgbG9uKTtcclxuICAgICAgICAgICAgZ2V0V2VhdGhlcihsYXQsbG9uKTtcclxuXHRcdH0pXHJcblx0XHQuY2F0Y2goZXJyID0+IGNvbnNvbGUubG9nKCdlcnJvcicsIGVycikpO1xyXG59O1xyXG5cclxuY29uc3QgZ2V0QWlyUG9sbHV0aW9uID0gKGxhdCwgbG9uKSA9PiB7XHJcblx0Y29uc3QgQVBJX0xJTksyID0gJ2h0dHA6Ly9hcGkub3BlbndlYXRoZXJtYXAub3JnL2RhdGEvMi41L2Fpcl9wb2xsdXRpb24/JztcclxuXHRmZXRjaChBUElfTElOSzIgKyBsYXQgKyBsb24gKyBBUElfS0VZKVxyXG5cdFx0LnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXHJcblx0XHQudGhlbihkYXRhID0+IHtcclxuXHJcblx0XHRcdGNvbnN0IGxvY2F0aW9uSWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG5cdFx0XHRsb2NhdGlvbkljb24uY2xhc3NMaXN0LmFkZCgnYWRyZXNzX19pY29uJyk7XHJcblx0XHRcdGxvY2F0aW9uSWNvbi5zZXRBdHRyaWJ1dGUoJ3NyYycsICdkaXN0L2ltZy9pY29uX21hcC5zdmcnKTtcclxuXHRcdFx0bG9jYXRpb25JY29uLnNldEF0dHJpYnV0ZSgnYWx0JywgJ2xvY2F0aW9uIGljb24nKTtcclxuXHRcdFx0Y2l0eS5hcHBlbmQobG9jYXRpb25JY29uLCBpbnB1dC52YWx1ZSk7XHJcbiAgICAgICAgICAgIC8vIGNpdHkuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgICAgIC8vIGNpdHkudGV4dENvbnRlbnQgPSAnJztcclxuXHJcbiAgICAgICAgICAgIGlmIChkYXRhLmxpc3RbMF0ubWFpbi5hcWkgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIHBvbGx1dGlvbldvcmQudGV4dENvbnRlbnQgPSBcIkRvYnJhXCJcclxuICAgICAgICAgICAgICAgIHBvbGx1dGlvbldvcmQuc3R5bGUuY29sb3IgPSBcImxpbWVcIlxyXG4gICAgICAgICAgICAgICAgcG9sbHV0aW9uSWNvbi5zZXRBdHRyaWJ1dGUoJ3NyYycsIFwiZGlzdC9pbWcvc21pbGUucG5nXCIpXHJcblxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEubGlzdFswXS5tYWluLmFxaSA9PT0gMil7XHJcbiAgICAgICAgICAgICAgICBwb2xsdXRpb25Xb3JkLnRleHRDb250ZW50ID0gXCLFmnJlZG5pYVwiXHJcbiAgICAgICAgICAgICAgICBwb2xsdXRpb25Xb3JkLnN0eWxlLmNvbG9yID0gXCJvcmFuZ2VcIlxyXG4gICAgICAgICAgICAgICAgcG9sbHV0aW9uSWNvbi5zZXRBdHRyaWJ1dGUoJ3NyYycsIFwiZGlzdC9pbWcvY29uZnVzZWQucG5nXCIpXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5saXN0WzBdLm1haW4uYXFpID49IDMpe1xyXG4gICAgICAgICAgICAgICAgcG9sbHV0aW9uV29yZC50ZXh0Q29udGVudCA9IFwiWsWCYVwiXHJcbiAgICAgICAgICAgICAgICBwb2xsdXRpb25Xb3JkLnN0eWxlLmNvbG9yID0gXCJyZWRcIlxyXG4gICAgICAgICAgICAgICAgcG9sbHV0aW9uSWNvbi5zZXRBdHRyaWJ1dGUoJ3NyYycsIFwiZGlzdC9pbWcvbWFzay5wbmdcIilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhLmxpc3RbMF0ubWFpbi5hcWkpO1xyXG5cdFx0fSk7XHJcbn07XHJcblxyXG5jb25zdCBnZXRXZWF0aGVyID0gKGxhdCxsb24pID0+IHtcclxuICAgIGNvbnN0IEFQSV9MSU5LMyA9IFwiaHR0cHM6Ly9hcGkub3BlbndlYXRoZXJtYXAub3JnL2RhdGEvMi41L3dlYXRoZXI/XCI7XHJcbiAgICBmZXRjaChBUElfTElOSzMgKyBsYXQgKyBsb24gKyBBUElfS0VZKVxyXG4gICAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXHJcbiAgICAudGhlbihkYXRhID0+IHtcclxuICAgICAgICBcclxuICAgICAgICBjb25zb2xlLmxvZyhkYXRhLndlYXRoZXJbMF0pXHJcbiAgICAgICAgaWYoZGF0YS53ZWF0aGVyWzBdLmlkIDwgMjMzICl7XHJcbiAgICAgICAgICAgIHdlYXRoZXJJY29uLnNldEF0dHJpYnV0ZShcInNyY1wiLCBcImRpc3QvaW1nL3RodW5kZXJzdG9ybS5wbmdcIik7XHJcbiAgICAgICAgICAgIHdlYXRoZXJXb3JkLnRleHRDb250ZW50ID0gXCJCdXJ6YVwiXHJcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhLndlYXRoZXJbMF0uaWQgPiAyOTkgJiYgZGF0YS53ZWF0aGVyWzBdLmlkIDwgNTAwKXtcclxuICAgICAgICAgICAgd2VhdGhlckljb24uc2V0QXR0cmlidXRlKFwic3JjXCIsIFwiZGlzdC9pbWcvZHJpenpsZS5wbmdcIik7XHJcbiAgICAgICAgICAgIHdlYXRoZXJXb3JkLnRleHRDb250ZW50ID0gXCJNxbxhd2thXCJcclxuICAgICAgICB9IGVsc2UgaWYgKGRhdGEud2VhdGhlclswXS5pZCA+PSA1MDAgJiYgZGF0YS53ZWF0aGVyWzBdLmlkIDwgNjAwKXtcclxuICAgICAgICAgICAgd2VhdGhlckljb24uc2V0QXR0cmlidXRlKFwic3JjXCIsIFwiZGlzdC9pbWcvcmFpbi5wbmdcIik7XHJcbiAgICAgICAgICAgIHdlYXRoZXJXb3JkLnRleHRDb250ZW50ID0gXCJEZXN6Y3pvd29cIlxyXG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YS53ZWF0aGVyWzBdLmlkID49IDYwMCAmJiBkYXRhLndlYXRoZXJbMF0uaWQgPCA3MDEpe1xyXG4gICAgICAgICAgICB3ZWF0aGVySWNvbi5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgXCJkaXN0L2ltZy9pY2UucG5nXCIpO1xyXG4gICAgICAgICAgICB3ZWF0aGVyV29yZC50ZXh0Q29udGVudCA9IFwixZpuaWVnXCJcclxuICAgICAgICB9IGVsc2UgaWYgKGRhdGEud2VhdGhlclswXS5pZCA+PSA3MDEgJiYgZGF0YS53ZWF0aGVyWzBdLmlkIDwgODAwKXtcclxuICAgICAgICAgICAgd2VhdGhlckljb24uc2V0QXR0cmlidXRlKFwic3JjXCIsIFwiZGlzdC9pbWcvZm9nLnBuZ1wiKTtcclxuICAgICAgICAgICAgd2VhdGhlcldvcmQudGV4dENvbnRlbnQgPSBcIk1nbGnFm25pZVwiXHJcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhLndlYXRoZXJbMF0uaWQgPSA4MDApe1xyXG4gICAgICAgICAgICB3ZWF0aGVySWNvbi5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgXCJkaXN0L2ltZy9zdW4ucG5nXCIpO1xyXG4gICAgICAgICAgICB3ZWF0aGVyV29yZC50ZXh0Q29udGVudCA9IFwiU8WCb25lY3puaWVcIlxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHdlYXRoZXJJY29uLnNldEF0dHJpYnV0ZShcInNyY1wiLCBcImRpc3QvaW1nL2Nsb3VkLnBuZ1wiKTtcclxuICAgICAgICAgICAgd2VhdGhlcldvcmQudGV4dENvbnRlbnQgPSBcIlBvY2htdXJub1wiXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbm9rQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZ2V0Q29vcmRpbmF0ZXMsIGdldFdlYXRoZXIpO1xyXG4iXX0=
